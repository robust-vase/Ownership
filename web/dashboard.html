
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Scene Analysis Dashboard</title>
        <script src="https://d3js.org/d3.v7.min.js"></script>
        
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            
            body {
                font-family: Arial, sans-serif;
                background-color: #f5f5f5;
            }
            
            .header {
                background-color: #2c3e50;
                color: white;
                padding: 15px;
                text-align: center;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            
            .scene-selector {
                background-color: #34495e;
                color: white;
                padding: 12px 20px;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                gap: 10px;
            }
            
            .scene-selector label {
                font-weight: bold;
                font-size: 14px;
            }
            
            .scene-selector select {
                padding: 6px 12px;
                border-radius: 4px;
                border: 1px solid #bdc3c7;
                font-size: 14px;
                min-width: 300px;
            }
            
            .scene-selector button {
                padding: 6px 16px;
                background-color: #3498db;
                color: white;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-size: 14px;
                font-weight: bold;
                transition: background-color 0.3s;
            }
            
            .scene-selector button:hover {
                background-color: #2980b9;
            }
            
            .scene-selector #next-scene-btn {
                background-color: #27ae60;
            }
            
            .scene-selector #next-scene-btn:hover {
                background-color: #229954;
            }
            
            .main-container {
                display: grid;
                grid-template-columns: 1fr 1fr;
                grid-template-rows: 1fr;
                gap: 15px;
                padding: 15px;
                height: calc(100vh - 80px);
            }
            
            .right-panel {
                display: flex;
                flex-direction: column;
                gap: 15px;
                overflow-y: auto;
                overflow-x: hidden;
            }
            
            .scene-panel {
                background: white;
                border-radius: 8px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                padding: 20px;
                height: auto;
                min-height: 500px;
                flex-shrink: 0;
            }
            
            .camera-panel {
                background: white;
                border-radius: 8px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                padding: 20px;
                overflow-y: auto;
                display: flex;
                flex-direction: column;
            }
            
            .match-panel {
                background: white;
                border-radius: 8px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                padding: 20px;
                min-height: 400px;
                height: auto;
                display: flex;
                flex-direction: column;
                flex-shrink: 0;
            }
            
            .agent-tags-container {
                width: 20%;
                display: flex;
                flex-direction: column;
                gap: 12px;
                flex-shrink: 0;
            }
            
            .agent-tag-box {
                border: 3px solid;
                border-radius: 8px;
                padding: 15px;
                text-align: center;
                font-weight: bold;
                font-size: 14px;
                color: white;
                transition: all 0.3s ease;
                cursor: pointer;
                position: relative;
                min-height: 80px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .agent-tag-box.highlight {
                transform: scale(1.1);
                box-shadow: 0 4px 16px rgba(0,0,0,0.3);
            }
            
            .topcamera-image-container {
                width: 80%;
                position: relative;
                flex-shrink: 0;
            }
            
            .camera-panel::-webkit-scrollbar {
                width: 10px;
            }
            
            .camera-panel::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 5px;
            }
            
            .camera-panel::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 5px;
            }
            
            .camera-panel::-webkit-scrollbar-thumb:hover {
                background: #555;
            }
            
            .right-panel::-webkit-scrollbar {
                width: 10px;
            }
            
            .right-panel::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 5px;
            }
            
            .right-panel::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 5px;
            }
            
            .right-panel::-webkit-scrollbar-thumb:hover {
                background: #555;
            }
            
            .panel-title {
                font-size: 18px;
                font-weight: bold;
                margin-bottom: 15px;
                color: #2c3e50;
                border-bottom: 2px solid #3498db;
                padding-bottom: 8px;
                flex-shrink: 0;
            }
            
            #scene-visualization {
                width: 100%;
                height: 700px;
                border: 1px solid #ddd;
                border-radius: 4px;
            }
            
            .image-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 15px;
                padding-right: 5px;
            }
            
            .image-container {
                background: #f8f9fa;
                border-radius: 6px;
                padding: 10px;
                text-align: center;
                border: 1px solid #e9ecef;
                transition: transform 0.2s ease;
                position: relative;
            }
            
            .image-container:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            }
            
            .camera-image {
                width: 100%;
                height: auto;
                border-radius: 4px;
                cursor: pointer;
                display: block;
            }
            
            .image-wrapper {
                position: relative;
                display: inline-block;
                width: 100%;
            }
            
            .bbox-overlay {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: all;
            }
            
            .bbox-rect {
                fill: #4CAF50;
                stroke: #4CAF50;
                stroke-width: 1;
                stroke-opacity: 0.3;
                fill-opacity: 0.02;
                transition: all 0.3s ease;
            }
            
            .bbox-rect.highlighted {
                stroke: #2E7D32;
                stroke-width: 2.5;
                stroke-opacity: 1.0;
                fill-opacity: 0.3;
            }
            
            .bbox-label {
                font-size: 6px;
                fill: #4CAF50;
                opacity: 0.6;
                font-weight: bold;
                transition: all 0.3s ease;
                pointer-events: none;
            }
            
            .bbox-label.highlighted {
                font-size: 10px;
                fill: #2E7D32;
                opacity: 1.0;
            }
            
            .bbox-label-bg {
                fill: white;
                opacity: 0;
                transition: all 0.3s ease;
            }
            
            .bbox-label-bg.highlighted {
                fill: white;
                opacity: 0.95;
                stroke: #2E7D32;
                stroke-width: 1;
            }
            
            .image-label {
                margin-top: 8px;
                font-size: 12px;
                color: #666;
                font-weight: 500;
            }
            
            .match-image {
                width: 100%;
                height: auto;
                max-width: 100%;
                object-fit: contain;
                border-radius: 4px;
                border: 1px solid #ddd;
                display: block;
            }
            
            .bbox-group {
                cursor: pointer;
            }
            
            .bbox-group.dragging {
                cursor: move;
            }
            
            /* Scene Visualization Styles */
            .table { fill: #9E9E9E; opacity: 0.3; stroke: #9E9E9E; stroke-width: 2; }
            .room-object { fill: #2196F3; }
            .personal-object { fill: #4CAF50; }
            .agent { fill: #FF9800; }
            .camera { fill: #F44336; }
            .object-bounds {
                fill: none;
                stroke-width: 1;
                opacity: 0.5;
            }
            .room-bounds { stroke: #2196F3; fill: #2196F3; fill-opacity: 0.15; }
            .personal-bounds { 
                stroke: #4CAF50; 
                fill: #4CAF50; 
                fill-opacity: 0.02; 
                stroke-opacity: 0.3;
                stroke-width: 1;
                transition: all 0.3s ease;
                cursor: pointer;
            }
            .personal-bounds.highlighted { 
                fill-opacity: 0.3; 
                stroke-opacity: 1.0;
                stroke-width: 2.5;
                stroke: #2E7D32;
            }
            .personal-bounds.clicked {
                fill-opacity: 0.3;
                stroke-opacity: 1.0;
                stroke-width: 2.5;
                stroke: #2E7D32;
            }
            .personal-object { 
                fill-opacity: 0.4;
                transition: all 0.3s ease;
                cursor: pointer;
            }
            .personal-object.highlighted { 
                fill-opacity: 1.0;
            }
            .personal-object.clicked {
                fill-opacity: 1.0;
            }
            .label {
                font-size: 8px;
                font-weight: bold;
                pointer-events: none;
            }
            .personal-label {
                font-size: 6px;
                opacity: 0.6;
                transition: all 0.3s ease;
            }
            .personal-label.highlighted {
                font-size: 10px;
                opacity: 1.0;
                fill: #2E7D32;
            }
            .personal-label.clicked {
                font-size: 10px;
                opacity: 1.0;
                fill: #2E7D32;
            }
            .label-bg {
                fill: white;
                opacity: 0.8;
                transition: all 0.3s ease;
            }
            .personal-label-bg {
                fill: white;
                opacity: 0;
                transition: all 0.3s ease;
            }
            .personal-label.highlighted + .personal-label-bg {
                opacity: 0.95;
                stroke: #2E7D32;
                stroke-width: 1;
            }
            .direction-arrow {
                stroke-width: 2;
                fill: none;
            }
        </style>
    
    </head>
    <body>
        <div class="header">
            <h1>Scene Analysis Dashboard</h1>
        </div>
        
        
        <div class="scene-selector">
            <label for="scene-select">Select Scene:</label>
            <select id="scene-select">
                <option value="table_scene_map001_room_diningRoom_table1" >table_scene_map001_room_diningRoom_table1</option>
<option value="table_scene_map001_room_livingRoom_table1" selected>table_scene_map001_room_livingRoom_table1</option>
<option value="table_scene_map002_room_diningRoom_table1" >table_scene_map002_room_diningRoom_table1</option>
<option value="table_scene_map002_room_kitchen_table1" >table_scene_map002_room_kitchen_table1</option>
<option value="table_scene_map002_room_livingRoom_table1" >table_scene_map002_room_livingRoom_table1</option>
<option value="table_scene_map004_room_diningRoom_table1" >table_scene_map004_room_diningRoom_table1</option>
<option value="table_scene_map004_room_livingRoom_table1" >table_scene_map004_room_livingRoom_table1</option>
<option value="table_scene_map005_room_babyRoom_table1" >table_scene_map005_room_babyRoom_table1</option>
<option value="table_scene_map005_room_kitchen_table1" >table_scene_map005_room_kitchen_table1</option>
<option value="table_scene_map005_room_livingRoom_table1" >table_scene_map005_room_livingRoom_table1</option>
<option value="table_scene_map006_room_kitchen_table1" >table_scene_map006_room_kitchen_table1</option>
<option value="table_scene_map006_room_livingRoom_table1" >table_scene_map006_room_livingRoom_table1</option>
<option value="table_scene_map007_room_bedroom_1_table1" >table_scene_map007_room_bedroom_1_table1</option>
<option value="table_scene_map008_room_babyRoom_table1" >table_scene_map008_room_babyRoom_table1</option>
<option value="table_scene_map009_room_diningRoom_table1" >table_scene_map009_room_diningRoom_table1</option>
<option value="table_scene_map009_room_livingRoom_table1" >table_scene_map009_room_livingRoom_table1</option>
<option value="table_scene_map010_room_diningRoom_table1" >table_scene_map010_room_diningRoom_table1</option>
<option value="table_scene_map010_room_livingRoom_table1" >table_scene_map010_room_livingRoom_table1</option>
<option value="table_scene_map010_room_livingRoom_table2" >table_scene_map010_room_livingRoom_table2</option>
<option value="table_scene_map010_room_livingRoom_table4" >table_scene_map010_room_livingRoom_table4</option>
<option value="table_scene_map011_room_diningRoom_table1" >table_scene_map011_room_diningRoom_table1</option>
<option value="table_scene_map011_room_livingRoom_table1" >table_scene_map011_room_livingRoom_table1</option>
<option value="table_scene_map013_room_diningRoom_table1" >table_scene_map013_room_diningRoom_table1</option>
<option value="table_scene_map013_room_livingRoom_table1" >table_scene_map013_room_livingRoom_table1</option>
<option value="table_scene_map014_room_bedroom_table1" >table_scene_map014_room_bedroom_table1</option>
<option value="table_scene_map014_room_diningRoom_table1" >table_scene_map014_room_diningRoom_table1</option>
<option value="table_scene_map021_room_livingRoom_table1" >table_scene_map021_room_livingRoom_table1</option>
<option value="table_scene_map021_room_officeRoom_table1" >table_scene_map021_room_officeRoom_table1</option>
<option value="table_scene_map092_room_livingRoom_table3" >table_scene_map092_room_livingRoom_table3</option>
<option value="table_scene_map097_room_livingRoom_table1" >table_scene_map097_room_livingRoom_table1</option>
<option value="table_scene_map098_room_diningRoom_table1" >table_scene_map098_room_diningRoom_table1</option>
<option value="table_scene_map098_room_diningRoom_table2" >table_scene_map098_room_diningRoom_table2</option>
<option value="table_scene_map098_room_livingRoom_table1" >table_scene_map098_room_livingRoom_table1</option>
<option value="table_scene_map100_room_livingRoom_table2" >table_scene_map100_room_livingRoom_table2</option>
<option value="table_scene_map100_room_livingRoom_table4" >table_scene_map100_room_livingRoom_table4</option>
<option value="table_scene_map101_room_diningRoom_table1" >table_scene_map101_room_diningRoom_table1</option>
<option value="table_scene_map107_room_diningRoom_table1" >table_scene_map107_room_diningRoom_table1</option>
<option value="table_scene_map107_room_livingRoom_table2" >table_scene_map107_room_livingRoom_table2</option>
<option value="table_scene_map200_room_diningRoom_table1" >table_scene_map200_room_diningRoom_table1</option>
<option value="table_scene_map200_room_livingRoom_table2" >table_scene_map200_room_livingRoom_table2</option>
<option value="table_scene_map201_room_bedroom_table1" >table_scene_map201_room_bedroom_table1</option>
<option value="table_scene_map202_room_diningRoom_table1" >table_scene_map202_room_diningRoom_table1</option>
<option value="table_scene_map202_room_livingRoom_table1" >table_scene_map202_room_livingRoom_table1</option>
<option value="table_scene_map203_room_bedroom_table1" >table_scene_map203_room_bedroom_table1</option>
<option value="table_scene_map203_room_kitchen_table1" >table_scene_map203_room_kitchen_table1</option>
<option value="table_scene_map203_room_livingRoom_table1" >table_scene_map203_room_livingRoom_table1</option>
<option value="table_scene_map204_room_diningRoom_table1" >table_scene_map204_room_diningRoom_table1</option>
<option value="table_scene_map204_room_livingRoom_table1" >table_scene_map204_room_livingRoom_table1</option>
<option value="table_scene_map205_room_bedroom_table1" >table_scene_map205_room_bedroom_table1</option>
<option value="table_scene_map205_room_bedroom_table2" >table_scene_map205_room_bedroom_table2</option>
<option value="table_scene_map205_room_diningRoom_table1" >table_scene_map205_room_diningRoom_table1</option>
<option value="table_scene_map205_room_livingRoom_table1" >table_scene_map205_room_livingRoom_table1</option>
<option value="table_scene_map206_room_diningRoom_table1" >table_scene_map206_room_diningRoom_table1</option>
<option value="table_scene_map206_room_livingRoom_table1" >table_scene_map206_room_livingRoom_table1</option>
<option value="table_scene_map207_room_diningRoom_table1" >table_scene_map207_room_diningRoom_table1</option>
<option value="table_scene_map207_room_livingRoom_table1" >table_scene_map207_room_livingRoom_table1</option>
<option value="table_scene_map208_room_kitchen_8_table1" >table_scene_map208_room_kitchen_8_table1</option>
<option value="table_scene_map208_room_livingRoom_table1" >table_scene_map208_room_livingRoom_table1</option>
<option value="table_scene_map209_room_officeRoom_table2" >table_scene_map209_room_officeRoom_table2</option>
<option value="table_scene_map210_room_diningRoom_table1" >table_scene_map210_room_diningRoom_table1</option>
<option value="table_scene_map210_room_livingRoom_table2" >table_scene_map210_room_livingRoom_table2</option>
<option value="table_scene_map211_room_officeRoom_table2" >table_scene_map211_room_officeRoom_table2</option>
<option value="table_scene_map212_room_kitchen_table1" >table_scene_map212_room_kitchen_table1</option>
<option value="table_scene_map212_room_livingRoom_table1" >table_scene_map212_room_livingRoom_table1</option>
<option value="table_scene_map213_room_diningRoom_table1" >table_scene_map213_room_diningRoom_table1</option>
<option value="table_scene_map213_room_livingRoom_table1" >table_scene_map213_room_livingRoom_table1</option>
<option value="table_scene_map214_room_diningRoom_table1" >table_scene_map214_room_diningRoom_table1</option>
<option value="table_scene_map214_room_livingRoom_table1" >table_scene_map214_room_livingRoom_table1</option>
<option value="table_scene_map216_room_kitchen_table1" >table_scene_map216_room_kitchen_table1</option>
<option value="table_scene_map216_room_livingRoom_table1" >table_scene_map216_room_livingRoom_table1</option>
<option value="table_scene_map217_room_diningRoom_table1" >table_scene_map217_room_diningRoom_table1</option>
<option value="table_scene_map217_room_livingRoom_table1" >table_scene_map217_room_livingRoom_table1</option>
<option value="table_scene_map218_room_diningRoom_table1" >table_scene_map218_room_diningRoom_table1</option>
<option value="table_scene_map218_room_livingRoom_table1" >table_scene_map218_room_livingRoom_table1</option>
<option value="table_scene_map219_room_kitchen_table1" >table_scene_map219_room_kitchen_table1</option>
<option value="table_scene_map219_room_livingRoom_table1" >table_scene_map219_room_livingRoom_table1</option>
<option value="table_scene_map220_room_diningRoom_table1" >table_scene_map220_room_diningRoom_table1</option>
<option value="table_scene_map220_room_livingRoom_table2" >table_scene_map220_room_livingRoom_table2</option>
<option value="table_scene_map221_room_diningRoom_table1" >table_scene_map221_room_diningRoom_table1</option>
<option value="table_scene_map221_room_livingRoom_table2" >table_scene_map221_room_livingRoom_table2</option>
<option value="table_scene_map221_room_livingRoom_table3" >table_scene_map221_room_livingRoom_table3</option>
<option value="table_scene_map222_room_diningRoom_table1" >table_scene_map222_room_diningRoom_table1</option>
<option value="table_scene_map222_room_livingRoom_table1" >table_scene_map222_room_livingRoom_table1</option>
<option value="table_scene_map223_room_diningRoom_table1" >table_scene_map223_room_diningRoom_table1</option>
<option value="table_scene_map223_room_livingRoom_table1" >table_scene_map223_room_livingRoom_table1</option>
<option value="table_scene_map224_room_diningRoom_table1" >table_scene_map224_room_diningRoom_table1</option>
<option value="table_scene_map224_room_livingRoom_table1" >table_scene_map224_room_livingRoom_table1</option>
<option value="table_scene_map225_room_bedroom_table1" >table_scene_map225_room_bedroom_table1</option>
<option value="table_scene_map225_room_officeRoom_table2" >table_scene_map225_room_officeRoom_table2</option>
<option value="table_scene_map226_room_kitchen_table1" >table_scene_map226_room_kitchen_table1</option>
<option value="table_scene_map226_room_livingRoom_table1" >table_scene_map226_room_livingRoom_table1</option>
<option value="table_scene_map227_room_bedroom_table2" >table_scene_map227_room_bedroom_table2</option>
<option value="table_scene_map227_room_diningRoom_table1" >table_scene_map227_room_diningRoom_table1</option>
<option value="table_scene_map227_room_livingRoom_table2" >table_scene_map227_room_livingRoom_table2</option>
<option value="table_scene_map228_room_officeRoom_132_table1" >table_scene_map228_room_officeRoom_132_table1</option>
<option value="table_scene_map228_room_officeRoom_132_table2" >table_scene_map228_room_officeRoom_132_table2</option>
<option value="table_scene_map229_room_kitchen_table1" >table_scene_map229_room_kitchen_table1</option>
<option value="table_scene_map229_room_livingRoom_table1" >table_scene_map229_room_livingRoom_table1</option>
<option value="table_scene_map230_room_bedroom_table1" >table_scene_map230_room_bedroom_table1</option>
<option value="table_scene_map230_room_bedroom_table2" >table_scene_map230_room_bedroom_table2</option>
<option value="table_scene_map230_room_kitchen_table1" >table_scene_map230_room_kitchen_table1</option>
<option value="table_scene_map230_room_livingRoom_table1" >table_scene_map230_room_livingRoom_table1</option>
<option value="table_scene_map232_room_diningRoom_table1" >table_scene_map232_room_diningRoom_table1</option>
<option value="table_scene_map232_room_livingRoom_table2" >table_scene_map232_room_livingRoom_table2</option>
<option value="table_scene_map232_room_livingRoom_table3" >table_scene_map232_room_livingRoom_table3</option>
<option value="table_scene_map233_room_diningRoom_table1" >table_scene_map233_room_diningRoom_table1</option>
<option value="table_scene_map233_room_livingRoom_table2" >table_scene_map233_room_livingRoom_table2</option>
<option value="table_scene_map234_room_diningRoom_table1" >table_scene_map234_room_diningRoom_table1</option>
<option value="table_scene_map234_room_livingRoom_table1" >table_scene_map234_room_livingRoom_table1</option>
<option value="table_scene_map235_room_officeRoom_123_table1" >table_scene_map235_room_officeRoom_123_table1</option>
<option value="table_scene_map235_room_officeRoom_123_table2" >table_scene_map235_room_officeRoom_123_table2</option>
<option value="table_scene_map236_room_diningRoom_table1" >table_scene_map236_room_diningRoom_table1</option>
<option value="table_scene_map236_room_livingRoom_table1" >table_scene_map236_room_livingRoom_table1</option>
<option value="table_scene_map237_room_kitchen_table1" >table_scene_map237_room_kitchen_table1</option>
<option value="table_scene_map237_room_livingRoom_table1" >table_scene_map237_room_livingRoom_table1</option>
<option value="table_scene_map238_room_livingRoom_table1" >table_scene_map238_room_livingRoom_table1</option>
<option value="table_scene_map239_room_kitchen_8_table1" >table_scene_map239_room_kitchen_8_table1</option>
<option value="table_scene_map239_room_livingRoom_table1" >table_scene_map239_room_livingRoom_table1</option>
<option value="table_scene_map240_room_diningRoom_table1" >table_scene_map240_room_diningRoom_table1</option>
<option value="table_scene_map240_room_livingRoom_table1" >table_scene_map240_room_livingRoom_table1</option>
<option value="table_scene_map241_room_bedroom_table1" >table_scene_map241_room_bedroom_table1</option>
<option value="table_scene_map241_room_livingRoom_table1" >table_scene_map241_room_livingRoom_table1</option>
<option value="table_scene_map242_room_diningRoom_table1" >table_scene_map242_room_diningRoom_table1</option>
<option value="table_scene_map242_room_livingRoom_table2" >table_scene_map242_room_livingRoom_table2</option>
<option value="table_scene_map243_room_livingRoom_8_table3" >table_scene_map243_room_livingRoom_8_table3</option>
<option value="table_scene_map243_room_livingRoom_8_table4" >table_scene_map243_room_livingRoom_8_table4</option>
<option value="table_scene_map243_room_officeRoom_132_table1" >table_scene_map243_room_officeRoom_132_table1</option>
<option value="table_scene_map243_room_officeRoom_132_table2" >table_scene_map243_room_officeRoom_132_table2</option>
<option value="table_scene_map244_room_livingRoom_table1" >table_scene_map244_room_livingRoom_table1</option>
<option value="table_scene_map244_room_officeRoom_table2" >table_scene_map244_room_officeRoom_table2</option>
<option value="table_scene_map245_room_diningRoom_table1" >table_scene_map245_room_diningRoom_table1</option>
<option value="table_scene_map245_room_livingRoom_table1" >table_scene_map245_room_livingRoom_table1</option>
<option value="table_scene_map246_room_diningRoom_table1" >table_scene_map246_room_diningRoom_table1</option>
<option value="table_scene_map246_room_livingRoom_table2" >table_scene_map246_room_livingRoom_table2</option>
<option value="table_scene_map247_room_livingRoom_table1" >table_scene_map247_room_livingRoom_table1</option>
<option value="table_scene_map248_room_diningRoom_table1" >table_scene_map248_room_diningRoom_table1</option>
<option value="table_scene_map248_room_livingRoom_table1" >table_scene_map248_room_livingRoom_table1</option>
<option value="table_scene_map250_room_livingRoom_table1" >table_scene_map250_room_livingRoom_table1</option>
<option value="table_scene_map250_room_officeRoom_188_table1" >table_scene_map250_room_officeRoom_188_table1</option>
<option value="table_scene_map250_room_officeRoom_188_table2" >table_scene_map250_room_officeRoom_188_table2</option>
<option value="table_scene_map251_room_bedroom_table1" >table_scene_map251_room_bedroom_table1</option>
<option value="table_scene_map251_room_diningRoom_table1" >table_scene_map251_room_diningRoom_table1</option>
<option value="table_scene_map251_room_livingRoom_table1" >table_scene_map251_room_livingRoom_table1</option>
<option value="table_scene_map253_room_diningRoom_table1" >table_scene_map253_room_diningRoom_table1</option>
<option value="table_scene_map253_room_livingRoom_table2" >table_scene_map253_room_livingRoom_table2</option>
<option value="table_scene_map253_room_livingRoom_table3" >table_scene_map253_room_livingRoom_table3</option>
<option value="table_scene_map255_room_bedroom_table1" >table_scene_map255_room_bedroom_table1</option>
<option value="table_scene_map255_room_diningRoom_table1" >table_scene_map255_room_diningRoom_table1</option>
<option value="table_scene_map255_room_livingRoom_table1" >table_scene_map255_room_livingRoom_table1</option>
<option value="table_scene_map256_room_kitchen_8_table1" >table_scene_map256_room_kitchen_8_table1</option>
<option value="table_scene_map256_room_livingRoom_table1" >table_scene_map256_room_livingRoom_table1</option>
<option value="table_scene_map257_room_diningRoom_table1" >table_scene_map257_room_diningRoom_table1</option>
<option value="table_scene_map257_room_livingRoom_table1" >table_scene_map257_room_livingRoom_table1</option>
<option value="table_scene_map258_room_livingRoom_table2" >table_scene_map258_room_livingRoom_table2</option>
<option value="table_scene_map259_room_diningRoom_table1" >table_scene_map259_room_diningRoom_table1</option>
<option value="table_scene_map259_room_livingRoom_table2" >table_scene_map259_room_livingRoom_table2</option>
<option value="table_scene_map260_room_diningRoom_table1" >table_scene_map260_room_diningRoom_table1</option>
<option value="table_scene_map260_room_livingRoom_table1" >table_scene_map260_room_livingRoom_table1</option>
<option value="table_scene_map261_room_diningRoom_table1" >table_scene_map261_room_diningRoom_table1</option>
<option value="table_scene_map261_room_livingRoom_table2" >table_scene_map261_room_livingRoom_table2</option>
<option value="table_scene_map262_room_diningRoom_table1" >table_scene_map262_room_diningRoom_table1</option>
<option value="table_scene_map262_room_livingRoom_table1" >table_scene_map262_room_livingRoom_table1</option>
<option value="table_scene_map263_room_kitchen_8_table1" >table_scene_map263_room_kitchen_8_table1</option>
<option value="table_scene_map263_room_livingRoom_table1" >table_scene_map263_room_livingRoom_table1</option>
<option value="table_scene_map265_room_officeRoom_table2" >table_scene_map265_room_officeRoom_table2</option>
<option value="table_scene_map266_room_diningRoom_table1" >table_scene_map266_room_diningRoom_table1</option>
<option value="table_scene_map266_room_livingRoom_table1" >table_scene_map266_room_livingRoom_table1</option>
<option value="table_scene_map267_room_officeRoom_table2" >table_scene_map267_room_officeRoom_table2</option>
<option value="table_scene_map268_room_diningRoom_table1" >table_scene_map268_room_diningRoom_table1</option>
<option value="table_scene_map268_room_livingRoom_table2" >table_scene_map268_room_livingRoom_table2</option>
<option value="table_scene_map268_room_livingRoom_table3" >table_scene_map268_room_livingRoom_table3</option>
<option value="table_scene_map269_room_diningRoom_table1" >table_scene_map269_room_diningRoom_table1</option>
<option value="table_scene_map269_room_livingRoom_table1" >table_scene_map269_room_livingRoom_table1</option>
<option value="table_scene_map270_room_bedroom_table1" >table_scene_map270_room_bedroom_table1</option>
            </select>
            <button id="load-scene-btn" onclick="loadSelectedScene()">Load Scene</button>
            <button id="next-scene-btn" onclick="loadNextScene()" style="margin-left: 10px;">Next Scene →</button>
            <span id="scene-status" style="margin-left: 15px; color: #666;"></span>
        </div>
        
        
        <div class="main-container">
            
            <!-- 左侧：相机图片区域 -->
            <div class="camera-panel">
                <div class="panel-title">相机视角 (8 张图片)</div>
                <div class="image-grid">
    
                    <div class="image-container">
                        <div class="image-wrapper">
                            <img src="/logs/4agents_9_allmap/table_scene_map001_room_livingRoom_table1/BP_CoffeeTable_Table_Coffee_C_0_Camera_1_rgb.png" 
                                 alt="Camera 1" 
                                 class="camera-image" 
                                 id="camera-img-0">
                            <svg class="bbox-overlay" id="bbox-svg-0"></svg>
                        </div>
                        <div class="image-label">Camera 1</div>
                    </div>
        
                    <div class="image-container">
                        <div class="image-wrapper">
                            <img src="/logs/4agents_9_allmap/table_scene_map001_room_livingRoom_table1/BP_CoffeeTable_Table_Coffee_C_0_Camera_2_rgb.png" 
                                 alt="Camera 2" 
                                 class="camera-image" 
                                 id="camera-img-1">
                            <svg class="bbox-overlay" id="bbox-svg-1"></svg>
                        </div>
                        <div class="image-label">Camera 2</div>
                    </div>
        
                    <div class="image-container">
                        <div class="image-wrapper">
                            <img src="/logs/4agents_9_allmap/table_scene_map001_room_livingRoom_table1/BP_CoffeeTable_Table_Coffee_C_0_Camera_3_rgb.png" 
                                 alt="Camera 3" 
                                 class="camera-image" 
                                 id="camera-img-2">
                            <svg class="bbox-overlay" id="bbox-svg-2"></svg>
                        </div>
                        <div class="image-label">Camera 3</div>
                    </div>
        
                    <div class="image-container">
                        <div class="image-wrapper">
                            <img src="/logs/4agents_9_allmap/table_scene_map001_room_livingRoom_table1/BP_CoffeeTable_Table_Coffee_C_0_Camera_4_rgb.png" 
                                 alt="Camera 4" 
                                 class="camera-image" 
                                 id="camera-img-3">
                            <svg class="bbox-overlay" id="bbox-svg-3"></svg>
                        </div>
                        <div class="image-label">Camera 4</div>
                    </div>
        
                    <div class="image-container">
                        <div class="image-wrapper">
                            <img src="/logs/4agents_9_allmap/table_scene_map001_room_livingRoom_table1/BP_CoffeeTable_Table_Coffee_C_0_Camera_5_rgb.png" 
                                 alt="Camera 5" 
                                 class="camera-image" 
                                 id="camera-img-4">
                            <svg class="bbox-overlay" id="bbox-svg-4"></svg>
                        </div>
                        <div class="image-label">Camera 5</div>
                    </div>
        
                    <div class="image-container">
                        <div class="image-wrapper">
                            <img src="/logs/4agents_9_allmap/table_scene_map001_room_livingRoom_table1/BP_CoffeeTable_Table_Coffee_C_0_Camera_6_rgb.png" 
                                 alt="Camera 6" 
                                 class="camera-image" 
                                 id="camera-img-5">
                            <svg class="bbox-overlay" id="bbox-svg-5"></svg>
                        </div>
                        <div class="image-label">Camera 6</div>
                    </div>
        
                    <div class="image-container">
                        <div class="image-wrapper">
                            <img src="/logs/4agents_9_allmap/table_scene_map001_room_livingRoom_table1/BP_CoffeeTable_Table_Coffee_C_0_Camera_7_rgb.png" 
                                 alt="Camera 7" 
                                 class="camera-image" 
                                 id="camera-img-6">
                            <svg class="bbox-overlay" id="bbox-svg-6"></svg>
                        </div>
                        <div class="image-label">Camera 7</div>
                    </div>
        
                    <div class="image-container">
                        <div class="image-wrapper">
                            <img src="/logs/4agents_9_allmap/table_scene_map001_room_livingRoom_table1/BP_CoffeeTable_Table_Coffee_C_0_Camera_8_rgb.png" 
                                 alt="Camera 8" 
                                 class="camera-image" 
                                 id="camera-img-7">
                            <svg class="bbox-overlay" id="bbox-svg-7"></svg>
                        </div>
                        <div class="image-label">Camera 8</div>
                    </div>
        
                </div>
            </div>
    
            
            <!-- 右侧：匹配区域和场景平面图（整体滚动） -->
            <div class="right-panel">
                
                <!-- 匹配区域 -->
                <div class="match-panel" style="position: relative;">
                    <div class="panel-title">匹配区域 (TopCamera)</div>
                    
                    <div style="display: flex; gap: 15px; height: calc(100% - 60px);">
                        <!-- 左侧：人物标签区域 (20% 宽度) -->
                        <div class="agent-tags-container" id="agent-tags-container" style="width: 20%; overflow-y: auto;">
                            <!-- 人物标签将通过JavaScript动态生成 -->
                        </div>
                        
                        <!-- 右侧：TopCamera图片 (80% 宽度) -->
                        <div class="topcamera-image-container" style="width: 80%; position: relative;">
    
                        <div class="image-wrapper" style="width: 100%; height: 100%;">
                            <img src="/logs/4agents_9_allmap/table_scene_map001_room_livingRoom_table1/BP_CoffeeTable_Table_Coffee_C_0_TopCamera_1_rgb.png" 
                                 alt="TopCamera" 
                                 class="match-image" 
                                 id="topcamera-img"
                                 style="width: 100%; height: auto; display: block;">
                            <svg class="bbox-overlay" id="bbox-svg-topcamera"></svg>
                        </div>
        
                        </div>
                    </div>
                </div>
    
                
                <!-- 场景平面图区域 -->
                <div class="scene-panel">
                    <div class="panel-title">场景平面图</div>
                    <div id="scene-visualization"></div>
                </div>
    
            </div>
        </div>
        
        <script>
            // 全局数据
            const projections = {"0": {"BP_Fruit_Apple_02_C_1": {"bbox": [1962.4451265353136, 1831.462980016208, 2114.1834271377215, 1937.523549138908], "center": [1982.3905217272768, 1886.610908906925], "visible": true, "owner": "table", "asset_type": "apple", "display_name": "apple_1"}, "BP_Food_Egg_C_1": {"bbox": [1840.8147387020435, 2019.1714373592326, 1910.0184223805823, 2069.066288404588], "center": [1851.500899591339, 2051.6042051627846], "visible": true, "owner": "table", "asset_type": "egg", "display_name": "egg_1"}, "BP_Oatmeal_Cookie_01_Single_C_1": {"bbox": [2248.6187356500795, 1853.634551282364, 2296.1589670578824, 1907.6702255892692], "center": [2273.28888188395, 1889.234544725493], "visible": true, "owner": "table", "asset_type": "oatmeal", "display_name": "oatmeal_1"}, "BP_Cup_Pink_C_0": {"bbox": [1701.502953762433, 2158.7324438593896, 1838.0034870630898, 2320.6585859209326], "center": [1770.065252169973, 2272.082861300142], "visible": true, "owner": "table", "asset_type": "cup", "display_name": "cup_1"}, "BP_CoffeeMachine_1_C_0": {"bbox": [1452.4622260579902, 2094.0934988434374, 1848.7001767926906, 2597.633925294353], "center": [1700.3620705003434, 2428.8486033570134], "visible": true, "owner": "table", "asset_type": "coffeeMachine", "display_name": "coffeeMachine_1"}, "BP_Cupboard_TV_C_1": {"bbox": [2300.150016961796, 1951.5703011622236, 3430.1036725624303, 4096.0], "center": [2851.874794136069, 2985.971091970079], "visible": true, "owner": "room", "asset_type": "cabinet", "display_name": "cabinet_1"}, "BP_Radio_Dock_C_0": {"bbox": [2829.182538783638, 2560.424345197669, 3161.370165564723, 2987.9421122948183], "center": [2953.637459575136, 2803.587511190047], "visible": true, "owner": "room", "asset_type": "radio", "display_name": "radio_1"}, "BP_Rag_01_C_1": {"bbox": [3048.6115477540943, 1944.2583529588574, 3223.2865611448774, 2097.4216615906603], "center": [3139.9871472302316, 2032.5407585760877], "visible": true, "owner": "room", "asset_type": "rag", "display_name": "rag_1"}, "BP_RemoteController_01_C_1": {"bbox": [3038.071894720462, 2240.0610663974967, 3152.7369129587023, 2451.237571373019], "center": [3092.1545950381656, 2347.6576516534114], "visible": true, "owner": "room", "asset_type": "remoteControl", "display_name": "remoteControl_1"}, "BP_Sofa_003_C_0": {"bbox": [2137.8728146598355, 1330.3999801698978, 2933.1097555534093, 1944.2632941688253], "center": [2504.50443722083, 1695.7940746450045], "visible": true, "owner": "room", "asset_type": "shortBacklessSofa", "display_name": "shortBacklessSofa_1"}, "BP_Sofa_001_C_0": {"bbox": [50.07893509127979, 1005.1451100534096, 1991.3432702797215, 2651.4320135440375], "center": [1313.7293603763253, 1821.4825282535567], "visible": true, "owner": "room", "asset_type": "longBackrestSofa", "display_name": "longBackrestSofa_1"}, "BP_TV_01_C_0": {"bbox": [3118.704601159478, 1002.0486605026153, 4096.0, 4096.0], "center": [3400.5774695741616, 2929.4786050972666], "visible": true, "owner": "room", "asset_type": "tv", "display_name": "tv_1"}, "BP_Carpet_Bedroom1_C_0": {"bbox": [265.61135614271245, 1399.6872188196862, 2681.8753529765113, 3857.2771121608894], "center": [1684.1730396029316, 2197.130872433243], "visible": true, "owner": "room", "asset_type": "carpet", "display_name": "carpet_1"}, "BP_Toy_Dog_C_2146536852": {"bbox": [1845.4497143695505, 1848.294464820351, 2058.4975067716464, 2176.1830833633776], "center": [1962.0668672617978, 2075.8435884341634], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "toy", "display_name": "toy_1"}, "BP_Pencil_Ballpen_02_C_2146536850": {"bbox": [1799.0220100674233, 2135.433627439169, 1906.5746092922423, 2213.066757144439], "center": [1817.4917592544984, 2137.184043388645], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_1"}, "BP_Pencil_007_C_2146536831": {"bbox": [1457.740948577859, 2519.2821956094535, 1584.2029279762721, 2656.3398151009387], "center": [1529.5278448094728, 2521.6397482401053], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_2"}, "BP_Book_33_C_2146536828": {"bbox": [2109.6849137679237, 1881.6717003908088, 2229.2214251529545, 1944.7816456716364], "center": [2110.4886071288634, 1897.4713948692938], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "book", "display_name": "book_1"}, "BP_Doll_ncteague_C_2146536826": {"bbox": [2362.9706913303457, 1890.2358455842227, 2439.501285974833, 2085.0510459480943], "center": [2389.483069736659, 2037.3629807426855], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "doll", "display_name": "doll_1"}, "BP_DrinkContainer_Wines03_C_2146536815": {"bbox": [2281.750630928505, 1868.9324714150694, 2425.22339263635, 2093.3451433365517], "center": [2330.827129997508, 2061.925174143452], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "wine", "display_name": "wine_1"}, "BP_Cup_Decor_003_C_2146536805": {"bbox": [1943.9853336853128, 2883.67005406886, 2025.6060119647175, 2948.6842957509352], "center": [1986.059586510694, 2925.0796506900333], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "cup", "display_name": "cup_2"}, "BP_Flex_Cup_Kitchen_2_C_2146536793": {"bbox": [1921.5301215691948, 1882.1261752807263, 2004.0846435964784, 1945.9655800181058], "center": [1963.9752696342448, 1928.0357862462583], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "cup", "display_name": "cup_3"}}, "1": {"BP_Fruit_Apple_02_C_1": {"bbox": [2251.41625695448, 1895.558885003, 2304.3262236015976, 2052.4596563114474], "center": [2254.080717297545, 1935.7809152165787], "visible": true, "owner": "table", "asset_type": "apple", "display_name": "apple_1"}, "BP_Food_Egg_C_1": {"bbox": [2017.740083175251, 1905.708729765954, 2034.1556053548725, 1974.891645500264], "center": [2004.2611087026507, 1925.7350723601212], "visible": true, "owner": "table", "asset_type": "egg", "display_name": "egg_1"}, "BP_Oatmeal_Cookie_01_Single_C_1": {"bbox": [2409.337679518211, 2147.94253153969, 2462.1583530778535, 2193.768263849669], "center": [2434.725794965119, 2180.3531363669126], "visible": true, "owner": "table", "asset_type": "oatmeal", "display_name": "oatmeal_1"}, "BP_Cup_Pink_C_0": {"bbox": [1707.4744095458216, 1899.5687435515656, 1824.4256467503315, 2013.4544983479063], "center": [1761.3214216914412, 1981.8534999418962], "visible": true, "owner": "table", "asset_type": "cup", "display_name": "cup_1"}, "BP_CoffeeMachine_1_C_0": {"bbox": [1353.6506428060768, 1740.1372324944555, 1734.068074421456, 2071.394287043917], "center": [1592.1758550755626, 2006.8350135650376], "visible": true, "owner": "table", "asset_type": "coffeeMachine", "display_name": "coffeeMachine_1"}, "BP_Cupboard_TV_C_1": {"bbox": [42.18417319048061, 3013.576067722943, 2907.76919059858, 3605.3962559367146], "center": [1626.1861470710107, 3304.152967008637], "visible": true, "owner": "room", "asset_type": "cabinet", "display_name": "cabinet_1"}, "BP_Radio_Dock_C_0": {"bbox": [1276.9803570609786, 3029.1553651964114, 1707.940973430091, 3276.582761315296], "center": [1534.1269220033741, 3166.2036121460023], "visible": true, "owner": "room", "asset_type": "radio", "display_name": "radio_1"}, "BP_Rag_01_C_1": {"bbox": [2617.8278514645785, 3020.578954744862, 2834.167739111317, 3241.4839649634723], "center": [2714.292243642533, 3144.9759958373934], "visible": true, "owner": "room", "asset_type": "rag", "display_name": "rag_1"}, "BP_RemoteController_01_C_1": {"bbox": [2037.4849483587354, 3145.5236923398174, 2328.192835791737, 3233.892227687427], "center": [2180.4066605831154, 3190.51939022247], "visible": true, "owner": "room", "asset_type": "remoteControl", "display_name": "remoteControl_1"}, "BP_Sofa_003_C_0": {"bbox": [2716.8724665628624, 1882.6749343257093, 3628.618564996695, 2772.7679462588235], "center": [3040.920122049416, 2358.1940880487996], "visible": true, "owner": "room", "asset_type": "shortBacklessSofa", "display_name": "shortBacklessSofa_1"}, "BP_Sofa_001_C_0": {"bbox": [1218.8185495263508, 980.6805915022956, 3100.9218928842865, 1758.249196043524], "center": [2133.874770895108, 1509.3074998168258], "visible": true, "owner": "room", "asset_type": "longBackrestSofa", "display_name": "longBackrestSofa_1"}, "BP_TV_01_C_0": {"bbox": [0.0, 3551.7916065296126, 4096.0, 4096.0], "center": [1370.5530331175205, 3619.5253873993734], "visible": true, "owner": "room", "asset_type": "tv", "display_name": "tv_1"}, "BP_Carpet_Bedroom1_C_0": {"bbox": [684.9122382562755, 1471.3060736028224, 3108.0110187506116, 2591.0370932384094], "center": [1927.8405947605195, 1939.807532836096], "visible": true, "owner": "room", "asset_type": "carpet", "display_name": "carpet_1"}, "BP_Toy_Dog_C_2146536852": {"bbox": [1919.6626446139005, 1848.5886609372778, 2159.8720840034234, 2068.8049212075516], "center": [2041.116188875302, 2023.3344049420807], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "toy", "display_name": "toy_1"}, "BP_Pencil_Ballpen_02_C_2146536850": {"bbox": [1864.982024707129, 1949.3213189609114, 1912.29832967463, 2035.1702030970782], "center": [1911.4279139335936, 1948.9216425243649], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_1"}, "BP_Pencil_007_C_2146536831": {"bbox": [1346.2552820737756, 1937.5974842722044, 1462.4177108265042, 1986.2861150733315], "center": [1460.0991529974513, 1938.5450036814905], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_2"}, "BP_Book_33_C_2146536828": {"bbox": [2323.858239018056, 2036.2768493636008, 2344.10018353934, 2166.7331245703963], "center": [2323.9131831697678, 2046.3183183148049], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "book", "display_name": "book_1"}, "BP_Doll_ncteague_C_2146536826": {"bbox": [2239.148570692083, 2280.6555535743173, 2420.2921985836488, 2361.796610152942], "center": [2314.5816763509692, 2361.1936687289844], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "doll", "display_name": "doll_1"}, "BP_DrinkContainer_Wines03_C_2146536815": {"bbox": [2231.787469066301, 2129.093062832716, 2297.721890033632, 2376.3118428508046], "center": [2252.4578677594973, 2320.9386710632516], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "wine", "display_name": "wine_1"}, "BP_Cup_Decor_003_C_2146536805": {"bbox": [1221.723254656136, 2346.6841103567936, 1262.6983270869537, 2447.0475387475435], "center": [1253.2173695560018, 2409.7273097457282], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "cup", "display_name": "cup_2"}, "BP_Flex_Cup_Kitchen_2_C_2146536793": {"bbox": [2203.7729118315924, 1883.1174095966126, 2214.248331913447, 1986.793273767346], "center": [2207.179879874459, 1948.3521448529118], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "cup", "display_name": "cup_3"}}, "2": {"BP_Fruit_Apple_02_C_1": {"bbox": [1967.7018771675287, 2226.334667816376, 2126.7763381624127, 2346.346588809266], "center": [2105.611712981455, 2306.6710879391485], "visible": true, "owner": "table", "asset_type": "apple", "display_name": "apple_1"}, "BP_Food_Egg_C_1": {"bbox": [2175.4837079752156, 2130.1694835322387, 2242.046580929977, 2178.5046710929137], "center": [2230.371633679901, 2142.923893708118], "visible": true, "owner": "table", "asset_type": "egg", "display_name": "egg_1"}, "BP_Oatmeal_Cookie_01_Single_C_1": {"bbox": [1766.8332964620529, 2279.186607348832, 1821.7243655148175, 2338.7740633699086], "center": [1793.4364219767392, 2317.7319819387303], "visible": true, "owner": "table", "asset_type": "oatmeal", "display_name": "oatmeal_1"}, "BP_Cup_Pink_C_0": {"bbox": [2229.1384615881893, 1910.4284250995065, 2334.07382224883, 2041.5412545281683], "center": [2282.501271058064, 1996.238051528554], "visible": true, "owner": "table", "asset_type": "cup", "display_name": "cup_1"}, "BP_CoffeeMachine_1_C_0": {"bbox": [2213.5899061943437, 1615.0901411242621, 2464.862277073391, 1994.6500116141742], "center": [2319.535440262575, 1900.9156790191182], "visible": true, "owner": "table", "asset_type": "coffeeMachine", "display_name": "coffeeMachine_1"}, "BP_Cupboard_TV_C_1": {"bbox": [895.1613952178376, 1265.5985144773663, 1983.5841613906798, 2264.033991895353], "center": [1583.5996335897685, 1816.1231683924852], "visible": true, "owner": "room", "asset_type": "cabinet", "display_name": "cabinet_1"}, "BP_Radio_Dock_C_0": {"bbox": [1446.374658393491, 1423.4839850452072, 1654.758722014149, 1636.753187072483], "center": [1564.789666750498, 1579.881079320266], "visible": true, "owner": "room", "asset_type": "radio", "display_name": "radio_1"}, "BP_Rag_01_C_1": {"bbox": [1015.6670028491236, 1885.7863936691433, 1189.9280343942687, 2006.809024163725], "center": [1104.1984002518695, 1946.7033801963657], "visible": true, "owner": "room", "asset_type": "rag", "display_name": "rag_1"}, "BP_RemoteController_01_C_1": {"bbox": [1244.4414615634723, 1695.75791664314, 1392.748954841766, 1807.2517291901427], "center": [1322.172952437754, 1756.1085595809855], "visible": true, "owner": "room", "asset_type": "remoteControl", "display_name": "remoteControl_1"}, "BP_Sofa_003_C_0": {"bbox": [658.1255949202751, 2390.6455618584478, 1879.431249446071, 3548.1473603448685], "center": [1343.053934346639, 2956.4076047464932], "visible": true, "owner": "room", "asset_type": "shortBacklessSofa", "display_name": "shortBacklessSofa_1"}, "BP_Sofa_001_C_0": {"bbox": [2079.443392163897, 1722.897491407315, 3838.407972240857, 4096.0], "center": [2990.1981261195237, 2822.347751497814], "visible": true, "owner": "room", "asset_type": "longBackrestSofa", "display_name": "longBackrestSofa_1"}, "BP_TV_01_C_0": {"bbox": [450.50135649336295, 457.7835979699662, 1776.1685389247832, 1730.6087497580843], "center": [1415.7778409982286, 1409.631875450702], "visible": true, "owner": "room", "asset_type": "tv", "display_name": "tv_1"}, "BP_Carpet_Bedroom1_C_0": {"bbox": [1154.382679409333, 1592.3294207861682, 3271.8441793480483, 3935.683883468628], "center": [2393.969023518465, 2304.00134770393], "visible": true, "owner": "room", "asset_type": "carpet", "display_name": "carpet_1"}, "BP_Toy_Dog_C_2146536852": {"bbox": [2032.9438373656994, 1922.9318926191331, 2227.456288421203, 2226.892725570548], "center": [2126.368612354498, 2139.670138061577], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "toy", "display_name": "toy_1"}, "BP_Pencil_Ballpen_02_C_2146536850": {"bbox": [2174.0440337025234, 2030.5381806200226, 2268.2079336445177, 2093.2965987053303], "center": [2255.1778906668537, 2091.4452584723495], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_1"}, "BP_Pencil_007_C_2146536831": {"bbox": [2387.5574238401537, 1788.384507720918, 2461.0929176908685, 1856.0619669991174], "center": [2430.1273562269503, 1853.57668339579], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_2"}, "BP_Book_33_C_2146536828": {"bbox": [1851.9657667479744, 2246.076053851142, 1969.8127852096147, 2318.4397168353494], "center": [1969.0027578303298, 2311.535180749374], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "book", "display_name": "book_1"}, "BP_Doll_ncteague_C_2146536826": {"bbox": [1657.6414910159872, 2018.762915383908, 1757.260589776311, 2204.256064534549], "center": [1719.3544189131019, 2160.066128512828], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "doll", "display_name": "doll_1"}, "BP_DrinkContainer_Wines03_C_2146536815": {"bbox": [1702.5527122411966, 1943.453449141235, 1825.0428511888422, 2166.6547879381187], "center": [1780.3718406443668, 2145.323560324323], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "wine", "display_name": "wine_1"}, "BP_Cup_Decor_003_C_2146536805": {"bbox": [2087.2765344014347, 1640.449963558202, 2133.7288578077732, 1691.7956358360425], "center": [2109.758492100725, 1683.2044293045924], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "cup", "display_name": "cup_2"}, "BP_Flex_Cup_Kitchen_2_C_2146536793": {"bbox": [2083.8445040216475, 2236.2428116217593, 2169.9412164326463, 2305.8203244053075], "center": [2125.2557153124426, 2283.9372210859497], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "cup", "display_name": "cup_3"}}, "3": {"BP_Fruit_Apple_02_C_1": {"bbox": [1780.9522963192555, 2128.64773607071, 1835.0223190328052, 2303.558942351799], "center": [1829.1671793018754, 2278.4425349488874], "visible": true, "owner": "table", "asset_type": "apple", "display_name": "apple_1"}, "BP_Food_Egg_C_1": {"bbox": [2070.878805453004, 2227.3326386695885, 2090.802820822486, 2307.164158749787], "center": [2105.762024141259, 2277.8304366962966], "visible": true, "owner": "table", "asset_type": "egg", "display_name": "egg_1"}, "BP_Oatmeal_Cookie_01_Single_C_1": {"bbox": [1650.3857954543105, 2020.6336748257627, 1699.8629487620237, 2065.2974234958547], "center": [1676.2813622106, 2049.7161131323855], "visible": true, "owner": "table", "asset_type": "oatmeal", "display_name": "oatmeal_1"}, "BP_Cup_Pink_C_0": {"bbox": [2292.897925993579, 2142.28930323433, 2421.4322576289455, 2262.7458050695286], "center": [2361.4763398046116, 2225.269275751163], "visible": true, "owner": "table", "asset_type": "cup", "display_name": "cup_1"}, "BP_CoffeeMachine_1_C_0": {"bbox": [2381.64832882066, 1930.9456006116047, 2792.427079676095, 2270.1695952383293], "center": [2531.786470968288, 2188.805371504796], "visible": true, "owner": "table", "asset_type": "coffeeMachine", "display_name": "coffeeMachine_1"}, "BP_Cupboard_TV_C_1": {"bbox": [1561.0308495168338, 1212.450433170493, 3064.5829460513037, 1674.7383245263027], "center": [2271.0521946378008, 1579.9519566867552], "visible": true, "owner": "room", "asset_type": "cabinet", "display_name": "cabinet_1"}, "BP_Radio_Dock_C_0": {"bbox": [2207.881135453034, 1192.0246323748552, 2424.6012541218342, 1378.4407741398854], "center": [2304.769954188913, 1342.7755142626893], "visible": true, "owner": "room", "asset_type": "radio", "display_name": "radio_1"}, "BP_Rag_01_C_1": {"bbox": [1568.299648082763, 1322.436876304745, 1681.8764091569217, 1409.7828342561147], "center": [1631.8453955563416, 1368.1397869827497], "visible": true, "owner": "room", "asset_type": "rag", "display_name": "rag_1"}, "BP_RemoteController_01_C_1": {"bbox": [1857.475494741804, 1316.9338877263322, 2019.8392389509077, 1359.0234094829257], "center": [1939.2638239958474, 1344.3019672080068], "visible": true, "owner": "room", "asset_type": "remoteControl", "display_name": "remoteControl_1"}, "BP_Sofa_003_C_0": {"bbox": [599.3269733552947, 1700.8371091776407, 1410.7419780449202, 2507.947621747351], "center": [1117.2328885388845, 2146.0411338094564], "visible": true, "owner": "room", "asset_type": "shortBacklessSofa", "display_name": "shortBacklessSofa_1"}, "BP_Sofa_001_C_0": {"bbox": [0.0, 2744.819621173228, 4038.946504621994, 4096.0], "center": [1957.7807830962277, 3527.9252988496414], "visible": true, "owner": "room", "asset_type": "longBackrestSofa", "display_name": "longBackrestSofa_1"}, "BP_TV_01_C_0": {"bbox": [1496.1740637689375, 67.06522263625402, 3364.2625437765755, 1119.4507261965505], "center": [2316.346824845664, 1096.5243171476163], "visible": true, "owner": "room", "asset_type": "tv", "display_name": "tv_1"}, "BP_Carpet_Bedroom1_C_0": {"bbox": [736.8666403836997, 1910.501106271151, 3796.9104743384937, 3606.6108347347063], "center": [2209.053419818792, 2574.041006171946], "visible": true, "owner": "room", "asset_type": "carpet", "display_name": "carpet_1"}, "BP_Toy_Dog_C_2146536852": {"bbox": [1936.2376181700572, 2015.7141035518011, 2188.6285884103495, 2241.1409326791463], "center": [2059.415793626385, 2189.2683607253284], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "toy", "display_name": "toy_1"}, "BP_Pencil_Ballpen_02_C_2146536850": {"bbox": [2197.0765563719087, 2168.454797084659, 2250.063680985641, 2265.2393840487657], "center": [2206.138840638954, 2267.4436735107492], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_1"}, "BP_Pencil_007_C_2146536831": {"bbox": [2686.210676493677, 2200.0296280808006, 2813.503733520467, 2257.170931610809], "center": [2701.850607030561, 2258.79680071054], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_2"}, "BP_Book_33_C_2146536828": {"bbox": [1754.7294278874954, 2047.1299316967447, 1772.1807138664033, 2176.7758002046103], "center": [1766.042360011219, 2175.291033375429], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "book", "display_name": "book_1"}, "BP_Doll_ncteague_C_2146536826": {"bbox": [1720.5758388944546, 1794.0346963794982, 1873.2233032720794, 1897.3025120991106], "center": [1808.4607051885741, 1895.4511427862622], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "doll", "display_name": "doll_1"}, "BP_DrinkContainer_Wines03_C_2146536815": {"bbox": [1824.0746165461596, 1713.2261736728497, 1876.6006346668637, 1962.8672535184855], "center": [1859.3104080972948, 1928.428271069387], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "wine", "display_name": "wine_1"}, "BP_Cup_Decor_003_C_2146536805": {"bbox": [2685.607940651093, 1771.2380531167005, 2714.793154941439, 1856.8075947943398], "center": [2692.9150972476186, 1831.1818765873113], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "cup", "display_name": "cup_2"}, "BP_Flex_Cup_Kitchen_2_C_2146536793": {"bbox": [1874.1901647468956, 2213.988563349308, 1884.0865081968736, 2330.9529456015152], "center": [1881.24425582557, 2283.025491257673], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "cup", "display_name": "cup_3"}}, "4": {"BP_Fruit_Apple_02_C_1": {"bbox": [2202.6782671774718, 2118.41781051237, 2356.3303318274834, 2238.547316233276], "center": [2311.6175291982245, 2151.256195360018], "visible": true, "owner": "table", "asset_type": "apple", "display_name": "apple_1"}, "BP_Food_Egg_C_1": {"bbox": [2147.0684367421472, 1991.5377635827354, 2208.8691150342165, 2039.2773558437261], "center": [2177.0714788613345, 1994.4672604130478], "visible": true, "owner": "table", "asset_type": "egg", "display_name": "egg_1"}, "BP_Oatmeal_Cookie_01_Single_C_1": {"bbox": [2161.9613001763855, 2356.323113527406, 2218.711706069885, 2420.4983644323634], "center": [2188.567164487693, 2398.537301472011], "visible": true, "owner": "table", "asset_type": "oatmeal", "display_name": "oatmeal_1"}, "BP_Cup_Pink_C_0": {"bbox": [1967.8240135965725, 1809.857778363721, 2071.129030087026, 1940.3339054693151], "center": [2014.767965889507, 1895.7872660402036], "visible": true, "owner": "table", "asset_type": "cup", "display_name": "cup_1"}, "BP_CoffeeMachine_1_C_0": {"bbox": [1784.811493905446, 1531.6574946705473, 2034.8031326175537, 1914.9822518159076], "center": [1917.6965532974903, 1823.2722678287928], "visible": true, "owner": "table", "asset_type": "coffeeMachine", "display_name": "coffeeMachine_1"}, "BP_Cupboard_TV_C_1": {"bbox": [614.7092941198149, 1657.0552654974208, 1566.3727375709445, 3310.383473437362], "center": [1110.4153070265884, 2447.6426362985826], "visible": true, "owner": "room", "asset_type": "cabinet", "display_name": "cabinet_1"}, "BP_Radio_Dock_C_0": {"bbox": [855.8352231415918, 1974.9979233628533, 1122.3080806305238, 2294.3795351495237], "center": [1022.3697821996417, 2183.357680430875], "visible": true, "owner": "room", "asset_type": "radio", "display_name": "radio_1"}, "BP_Rag_01_C_1": {"bbox": [1234.2577870544214, 2766.2565291028454, 1465.4367435966244, 3010.051541171204], "center": [1340.0257861166374, 2890.937581381491], "visible": true, "owner": "room", "asset_type": "rag", "display_name": "rag_1"}, "BP_RemoteController_01_C_1": {"bbox": [1081.3075002172525, 2428.9358023000045, 1215.4272073456348, 2643.4544152292565], "center": [1150.5285991034602, 2537.9022358604357], "visible": true, "owner": "room", "asset_type": "remoteControl", "display_name": "remoteControl_1"}, "BP_Sofa_003_C_0": {"bbox": [1979.5307224871171, 2526.5385054256185, 3273.9171269471763, 3850.886804733691], "center": [2561.7226019089094, 3147.5669076148206], "visible": true, "owner": "room", "asset_type": "shortBacklessSofa", "display_name": "shortBacklessSofa_1"}, "BP_Sofa_001_C_0": {"bbox": [2113.0058927612863, 1184.025429308244, 4050.694276821816, 2722.984689582002], "center": [2804.9643135334104, 1933.490414634528], "visible": true, "owner": "room", "asset_type": "longBackrestSofa", "display_name": "longBackrestSofa_1"}, "BP_TV_01_C_0": {"bbox": [0.0, 725.0988217297286, 907.6093911392213, 2969.521090749903], "center": [668.0884415908932, 2165.287541337546], "visible": true, "owner": "room", "asset_type": "tv", "display_name": "tv_1"}, "BP_Carpet_Bedroom1_C_0": {"bbox": [1327.1639399080832, 1406.7547042614488, 3462.076350003835, 3324.199306631029], "center": [2239.9094964758983, 2035.3238488573356], "visible": true, "owner": "room", "asset_type": "carpet", "display_name": "carpet_1"}, "BP_Toy_Dog_C_2146536852": {"bbox": [2021.7195700941315, 1850.7603541595731, 2227.8562357037686, 2155.218157345491], "center": [2117.2945197883405, 2068.138923794226], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "toy", "display_name": "toy_1"}, "BP_Pencil_Ballpen_02_C_2146536850": {"bbox": [2020.82514706543, 1935.6653647875387, 2112.700610211506, 1999.0046024768867], "center": [2115.8499638962035, 1959.2694946923393], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_1"}, "BP_Pencil_007_C_2146536831": {"bbox": [1834.6679239336224, 1684.0926324279526, 1912.3796808713162, 1750.7933216908255], "center": [1914.2351053790164, 1731.0942851980676], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_2"}, "BP_Book_33_C_2146536828": {"bbox": [2142.3343403625513, 2247.1807002936503, 2261.2052106028978, 2326.0276650383303], "center": [2253.8633196413894, 2257.1023842068926], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "book", "display_name": "book_1"}, "BP_Doll_ncteague_C_2146536826": {"bbox": [1906.8174002663595, 2249.0342487825333, 1990.6884891141362, 2449.595638685084], "center": [1951.3322295380854, 2394.653999113603], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "doll", "display_name": "doll_1"}, "BP_DrinkContainer_Wines03_C_2146536815": {"bbox": [1883.78613816641, 2138.600180789275, 2006.4094024149365, 2369.85088269755], "center": [1959.2784224352895, 2337.163291815903], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "wine", "display_name": "wine_1"}, "BP_Cup_Decor_003_C_2146536805": {"bbox": [1464.2726598056543, 1795.1200864131692, 1529.5180963157497, 1853.02028610766], "center": [1502.1611081667584, 1841.4874781767094], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "cup", "display_name": "cup_2"}, "BP_Flex_Cup_Kitchen_2_C_2146536793": {"bbox": [2243.1224668766304, 2085.8163810647084, 2323.0054074581913, 2154.8928856578495], "center": [2280.582089434192, 2133.8427372310125], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "cup", "display_name": "cup_3"}}, "5": {"BP_Fruit_Apple_02_C_1": {"bbox": [1778.2849316828642, 2066.574361156421, 1865.2929268504308, 2197.411930557777], "center": [1821.5989583953672, 2180.447242443727], "visible": true, "owner": "table", "asset_type": "apple", "display_name": "apple_1"}, "BP_Food_Egg_C_1": {"bbox": [2005.407996540466, 2190.902352681187, 2037.6960718770115, 2253.5082805435923], "center": [2037.6332836288045, 2232.845272198477], "visible": true, "owner": "table", "asset_type": "egg", "display_name": "egg_1"}, "BP_Oatmeal_Cookie_01_Single_C_1": {"bbox": [1755.0321998501277, 1980.8987680675295, 1799.8186346830362, 2021.5780749366722], "center": [1778.1271532221497, 2008.9073173022553], "visible": true, "owner": "table", "asset_type": "oatmeal", "display_name": "oatmeal_1"}, "BP_Cup_Pink_C_0": {"bbox": [2205.576769886848, 2163.366970256722, 2316.871095063566, 2287.421078745616], "center": [2268.2231704490255, 2253.958691833282], "visible": true, "owner": "table", "asset_type": "cup", "display_name": "cup_1"}, "BP_CoffeeMachine_1_C_0": {"bbox": [2288.4308283063274, 1986.9225586643302, 2614.6883421394173, 2350.430520152007], "center": [2425.5275413666213, 2263.2850355520927], "visible": true, "owner": "table", "asset_type": "coffeeMachine", "display_name": "coffeeMachine_1"}, "BP_Cupboard_TV_C_1": {"bbox": [1862.9142776660558, 1457.9116664538674, 3130.0761213496985, 2001.4271220996948], "center": [2431.9956714803416, 1835.6788159679772], "visible": true, "owner": "room", "asset_type": "cabinet", "display_name": "cabinet_1"}, "BP_Radio_Dock_C_0": {"bbox": [2375.9403549256176, 1483.938613729118, 2562.8800484358608, 1649.4773655652707], "center": [2460.6179310538037, 1614.7947160163794], "visible": true, "owner": "room", "asset_type": "radio", "display_name": "radio_1"}, "BP_Rag_01_C_1": {"bbox": [1867.9510184046114, 1505.9975587925574, 1972.0066071514207, 1571.476419722062], "center": [1925.4887577746636, 1542.0550271164766], "visible": true, "owner": "room", "asset_type": "rag", "display_name": "rag_1"}, "BP_RemoteController_01_C_1": {"bbox": [2098.8253183239253, 1538.111901807557, 2233.3408560530816, 1584.2022034329493], "center": [2165.6415353417283, 1566.3749374966196], "visible": true, "owner": "room", "asset_type": "remoteControl", "display_name": "remoteControl_1"}, "BP_Sofa_003_C_0": {"bbox": [942.3305455250014, 1677.3053179267617, 1667.255497992771, 2282.1847126323346], "center": [1369.5883381472058, 2024.9567828366412], "visible": true, "owner": "room", "asset_type": "shortBacklessSofa", "display_name": "shortBacklessSofa_1"}, "BP_Sofa_001_C_0": {"bbox": [0.0, 2218.0688566652934, 2938.455013172134, 4096.0], "center": [1572.2238038055625, 3188.6329271454233], "visible": true, "owner": "room", "asset_type": "longBackrestSofa", "display_name": "longBackrestSofa_1"}, "BP_TV_01_C_0": {"bbox": [1989.8049824702255, 668.7007381952781, 3366.80466512682, 1514.0169448346305], "center": [2512.5418040108834, 1431.7809649597802], "visible": true, "owner": "room", "asset_type": "tv", "display_name": "tv_1"}, "BP_Carpet_Bedroom1_C_0": {"bbox": [678.0913526621991, 1909.745769028294, 3353.3227974505858, 3804.8702024015306], "center": [2077.4287094141714, 2539.63280415171], "visible": true, "owner": "room", "asset_type": "carpet", "display_name": "carpet_1"}, "BP_Toy_Dog_C_2146536852": {"bbox": [1918.1635517479697, 1983.005538619991, 2140.630442398168, 2223.052917878784], "center": [2031.3002185155494, 2169.429935838592], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "toy", "display_name": "toy_1"}, "BP_Pencil_Ballpen_02_C_2146536850": {"bbox": [2125.786232028795, 2180.9741680514344, 2184.1335272935826, 2258.585256990816], "center": [2125.4785823472807, 2250.81305072843], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_1"}, "BP_Pencil_007_C_2146536831": {"bbox": [2551.1873352883254, 2304.4631163184695, 2660.3459494250956, 2370.9309251653804], "center": [2553.4083836514374, 2348.83979845886], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_2"}, "BP_Book_33_C_2146536828": {"bbox": [1798.9361052151241, 2017.7129960447332, 1848.030231753752, 2106.6136968557175], "center": [1807.4697892970623, 2105.6639892881394], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "book", "display_name": "book_1"}, "BP_Doll_ncteague_C_2146536826": {"bbox": [1864.4867502046905, 1821.2908562498815, 1974.7592139983228, 1940.2631582528093], "center": [1924.3015883804655, 1930.4880078199863], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "doll", "display_name": "doll_1"}, "BP_DrinkContainer_Wines03_C_2146536815": {"bbox": [1925.0277064992692, 1763.8209986113552, 1980.9134194358737, 1985.2252728141893], "center": [1954.2304967547796, 1961.4568697103005], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "wine", "display_name": "wine_1"}, "BP_Cup_Decor_003_C_2146536805": {"bbox": [2679.461107196907, 1989.4617904764382, 2694.5856658442485, 2062.755062723274], "center": [2681.9858527479428, 2043.1500123839814], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "cup", "display_name": "cup_2"}, "BP_Flex_Cup_Kitchen_2_C_2146536793": {"bbox": [1842.6130130895986, 2139.847981743541, 1878.910377061856, 2230.0988598277218], "center": [1862.8316551582648, 2198.102810176316], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "cup", "display_name": "cup_3"}}, "6": {"BP_Fruit_Apple_02_C_1": {"bbox": [1806.4776644019996, 1953.4602002559013, 1946.200043795774, 2032.4562778955724], "center": [1836.1799600613508, 2024.7089982401462], "visible": true, "owner": "table", "asset_type": "apple", "display_name": "apple_1"}, "BP_Food_Egg_C_1": {"bbox": [1867.124924800535, 2139.2052708552956, 1932.871922211049, 2177.9062193188684], "center": [1893.7699325220028, 2172.8069628723333], "visible": true, "owner": "table", "asset_type": "egg", "display_name": "egg_1"}, "BP_Oatmeal_Cookie_01_Single_C_1": {"bbox": [1984.4133856506146, 1875.203772239067, 2021.0750083587616, 1917.2464776705347], "center": [2003.920016749934, 1904.0185848598412], "visible": true, "owner": "table", "asset_type": "oatmeal", "display_name": "oatmeal_1"}, "BP_Cup_Pink_C_0": {"bbox": [1963.2567102147418, 2227.725671312957, 2066.6311736686025, 2372.3254550612246], "center": [2019.0316212989508, 2333.96513479749], "visible": true, "owner": "table", "asset_type": "cup", "display_name": "cup_1"}, "BP_CoffeeMachine_1_C_0": {"bbox": [1978.3765092998344, 2125.6066308010027, 2256.6978452017024, 2590.998773642119], "center": [2108.341151961221, 2448.7554003925534], "visible": true, "owner": "table", "asset_type": "coffeeMachine", "display_name": "coffeeMachine_1"}, "BP_Cupboard_TV_C_1": {"bbox": [2445.0443024137535, 1568.0069520822135, 3809.2935791600817, 2913.579255561342], "center": [2879.574367970116, 2233.3506561837225], "visible": true, "owner": "room", "asset_type": "cabinet", "display_name": "cabinet_1"}, "BP_Radio_Dock_C_0": {"bbox": [2830.64450009346, 1810.6517291748687, 3098.648416905217, 2065.942565559782], "center": [2936.7547787213834, 1988.2396879661515], "visible": true, "owner": "room", "asset_type": "radio", "display_name": "radio_1"}, "BP_Rag_01_C_1": {"bbox": [2485.5107588217534, 1586.0536040072184, 2613.578957052989, 1659.9665481027127], "center": [2554.642947188558, 1629.243379955396], "visible": true, "owner": "room", "asset_type": "rag", "display_name": "rag_1"}, "BP_RemoteController_01_C_1": {"bbox": [2665.7236592295794, 1713.9473706180524, 2787.4223902801095, 1817.3093209506596], "center": [2723.4446681646955, 1770.1202434113889], "visible": true, "owner": "room", "asset_type": "remoteControl", "display_name": "remoteControl_1"}, "BP_Sofa_003_C_0": {"bbox": [1583.4417745155083, 1492.7338719762997, 2218.331418250033, 1924.9459208001354], "center": [1901.7774609107455, 1766.444574325014], "visible": true, "owner": "room", "asset_type": "shortBacklessSofa", "display_name": "shortBacklessSofa_1"}, "BP_Sofa_001_C_0": {"bbox": [105.34541643778361, 1579.8877865975555, 1661.3175901824932, 3680.0183294381245], "center": [1084.9723711737663, 2470.7966062449104], "visible": true, "owner": "room", "asset_type": "longBackrestSofa", "display_name": "longBackrestSofa_1"}, "BP_TV_01_C_0": {"bbox": [2745.2256820699354, 735.9226099529424, 4096.0, 2369.745416870919], "center": [3167.9979620911818, 1834.2177858729192], "visible": true, "owner": "room", "asset_type": "tv", "display_name": "tv_1"}, "BP_Carpet_Bedroom1_C_0": {"bbox": [1038.8538452573725, 1727.917072185407, 3017.4064385864326, 4096.0], "center": [1779.5978049683554, 2439.539996291549], "visible": true, "owner": "room", "asset_type": "carpet", "display_name": "carpet_1"}, "BP_Toy_Dog_C_2146536852": {"bbox": [1890.6956036895613, 1927.6449437183683, 2048.873965466318, 2215.9013840315183], "center": [1972.7927387436846, 2136.6268913271315], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "toy", "display_name": "toy_1"}, "BP_Pencil_Ballpen_02_C_2146536850": {"bbox": [1940.0342680925414, 2211.353345752709, 2037.0804569067957, 2269.4549514605696], "center": [1936.0598702043837, 2240.3352098641362], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_1"}, "BP_Pencil_007_C_2146536831": {"bbox": [2089.344790760181, 2571.1585225823756, 2186.002459658752, 2692.017290272588], "center": [2086.068543985621, 2594.927617485208], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_2"}, "BP_Book_33_C_2146536828": {"bbox": [1913.1848237623917, 1936.9379132609852, 2020.3674382994166, 1977.6391302031657], "center": [1916.7694339392112, 1977.1097651416885], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "book", "display_name": "book_1"}, "BP_Doll_ncteague_C_2146536826": {"bbox": [2155.6668736258184, 1795.6766861366182, 2205.9081073749, 1962.0237014892832], "center": [2177.5690958295745, 1928.6228257486996], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "doll", "display_name": "doll_1"}, "BP_DrinkContainer_Wines03_C_2146536815": {"bbox": [2125.345007078375, 1780.1864520028644, 2223.859034357513, 1980.5066605762295], "center": [2163.9435856248824, 1965.580720511452], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "wine", "display_name": "wine_1"}, "BP_Cup_Decor_003_C_2146536805": {"bbox": [2587.5986508542937, 2469.98940893732, 2663.26999577555, 2526.8304519372978], "center": [2619.4576264047137, 2515.048072392075], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "cup", "display_name": "cup_2"}, "BP_Flex_Cup_Kitchen_2_C_2146536793": {"bbox": [1807.505625985594, 2021.421619689484, 1889.8899128448322, 2071.9022309546754], "center": [1850.9712898750515, 2060.5026625121513], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "cup", "display_name": "cup_3"}}, "7": {"BP_Fruit_Apple_02_C_1": {"bbox": [1842.4940075193313, 2118.5277444482144, 1883.5519713200572, 2245.413225717476], "center": [1881.4802995893085, 2226.240450220417], "visible": true, "owner": "table", "asset_type": "apple", "display_name": "apple_1"}, "BP_Food_Egg_C_1": {"bbox": [2074.3177303977177, 2181.66485770204, 2094.367170747456, 2240.1072840943107], "center": [2105.1497994439032, 2215.42035521733], "visible": true, "owner": "table", "asset_type": "egg", "display_name": "egg_1"}, "BP_Oatmeal_Cookie_01_Single_C_1": {"bbox": [1725.1033600036985, 2061.2070875005397, 1762.6584444588457, 2098.075353426439], "center": [1744.0553363925899, 2087.593182285107], "visible": true, "owner": "table", "asset_type": "oatmeal", "display_name": "oatmeal_1"}, "BP_Cup_Pink_C_0": {"bbox": [2249.6371838489754, 2099.570894656502, 2352.7196444706983, 2204.400944130254], "center": [2306.545562304607, 2177.9198609044615], "visible": true, "owner": "table", "asset_type": "cup", "display_name": "cup_1"}, "BP_CoffeeMachine_1_C_0": {"bbox": [2316.2238141509943, 1899.6290757838315, 2620.8097276958247, 2205.672287751686], "center": [2439.5210092029006, 2148.068278924409], "visible": true, "owner": "table", "asset_type": "coffeeMachine", "display_name": "coffeeMachine_1"}, "BP_Cupboard_TV_C_1": {"bbox": [1633.7301993556525, 1502.8868536406694, 2784.2508027191666, 1889.8118513825702], "center": [2192.081263138565, 1807.9542498354317], "visible": true, "owner": "room", "asset_type": "cabinet", "display_name": "cabinet_1"}, "BP_Radio_Dock_C_0": {"bbox": [2131.4789755225734, 1480.1543507512574, 2293.9158586511653, 1618.1983355156062], "center": [2207.688827371837, 1595.0420739496171], "visible": true, "owner": "room", "asset_type": "radio", "display_name": "radio_1"}, "BP_Rag_01_C_1": {"bbox": [1640.6017232184925, 1594.21035229156, 1725.1499584143985, 1652.5041012406273], "center": [1687.5153846057997, 1626.0875576524486], "visible": true, "owner": "room", "asset_type": "rag", "display_name": "rag_1"}, "BP_RemoteController_01_C_1": {"bbox": [1862.7917338871925, 1583.2663974597872, 1989.1335755256498, 1615.0419577388352], "center": [1926.083739288412, 1604.3242674632957], "visible": true, "owner": "room", "asset_type": "remoteControl", "display_name": "remoteControl_1"}, "BP_Sofa_003_C_0": {"bbox": [859.4796688223037, 1870.8345028578378, 1497.3581860194988, 2502.8471992348104], "center": [1256.323537518211, 2230.7867636532355], "visible": true, "owner": "room", "asset_type": "shortBacklessSofa", "display_name": "shortBacklessSofa_1"}, "BP_Sofa_001_C_0": {"bbox": [242.0088599320976, 2394.782729748592, 3770.8383748202914, 4048.236682005801], "center": [2046.5080500204442, 3223.3920900721087], "visible": true, "owner": "room", "asset_type": "longBackrestSofa", "display_name": "longBackrestSofa_1"}, "BP_TV_01_C_0": {"bbox": [1637.1491137669032, 757.8585587472771, 2820.055798906642, 1451.673045703446], "center": [2203.322642201884, 1425.4056540032416], "visible": true, "owner": "room", "asset_type": "tv", "display_name": "tv_1"}, "BP_Carpet_Bedroom1_C_0": {"bbox": [950.1613548713991, 1997.1730421756133, 3602.6537523704496, 3348.9782331648357], "center": [2203.5984686442794, 2491.566340848496], "visible": true, "owner": "room", "asset_type": "carpet", "display_name": "carpet_1"}, "BP_Toy_Dog_C_2146536852": {"bbox": [1963.348874595479, 1993.6013562235394, 2165.2650851729727, 2202.7870099734882], "center": [2062.0654313121318, 2164.8105462226486], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "toy", "display_name": "toy_1"}, "BP_Pencil_Ballpen_02_C_2146536850": {"bbox": [2171.835531677385, 2143.140441964165, 2219.598919111408, 2210.265586123167], "center": [2184.8525877498337, 2210.195906422835], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_1"}, "BP_Pencil_007_C_2146536831": {"bbox": [2563.0250035628296, 2144.021795383625, 2665.6671830498603, 2187.029832453462], "center": [2578.8273393230916, 2186.7068784785542], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_2"}, "BP_Book_33_C_2146536828": {"bbox": [1814.328048940889, 2078.0787962677987, 1823.6190352884566, 2167.3126599802636], "center": [1823.6387632890953, 2165.855083003302], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "book", "display_name": "book_1"}, "BP_Doll_ncteague_C_2146536826": {"bbox": [1778.3835769674834, 1881.5981449551773, 1895.6597940896477, 1986.226692991238], "center": [1843.5506474218573, 1982.952569400281], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "doll", "display_name": "doll_1"}, "BP_DrinkContainer_Wines03_C_2146536815": {"bbox": [1864.1214367220148, 1809.3376929654655, 1900.7911264039342, 2025.1182493072333], "center": [1886.040850638907, 2003.6308575458784], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "wine", "display_name": "wine_1"}, "BP_Cup_Decor_003_C_2146536805": {"bbox": [2533.8724115558307, 1866.0823982897787, 2555.808830075489, 1931.2495866267868], "center": [2541.3168183069847, 1915.208823924806], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "cup", "display_name": "cup_2"}, "BP_Flex_Cup_Kitchen_2_C_2146536793": {"bbox": [1917.3026720549076, 2174.697325880473, 1926.8802766459687, 2264.2769815233605], "center": [1923.0734403356946, 2232.5865129237027], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "cup", "display_name": "cup_3"}}, "topcamera": {"BP_Fruit_Apple_02_C_1": {"bbox": [1529.7499672094318, 2157.3952146493148, 1633.03567761967, 2499.3527547831077], "center": [1628.5353655857064, 2437.111364442553], "visible": true, "owner": "table", "asset_type": "apple", "display_name": "apple_1"}, "BP_Food_Egg_C_1": {"bbox": [2081.464519815366, 2348.905466813798, 2113.3294902742045, 2500.513455403374], "center": [2142.889543534586, 2454.777656614069], "visible": true, "owner": "table", "asset_type": "egg", "display_name": "egg_1"}, "BP_Oatmeal_Cookie_01_Single_C_1": {"bbox": [1254.6625486873431, 1856.6539561016725, 1359.7827126434279, 1929.571143112914], "center": [1315.652672011022, 1892.0394560612735], "visible": true, "owner": "table", "asset_type": "oatmeal", "display_name": "oatmeal_1"}, "BP_Cup_Pink_C_0": {"bbox": [2506.1653275632125, 2255.8977940335863, 2765.165899302778, 2439.364551261382], "center": [2627.895078662333, 2331.067424007342], "visible": true, "owner": "table", "asset_type": "cup", "display_name": "cup_1"}, "BP_CoffeeMachine_1_C_0": {"bbox": [2691.887134316526, 2117.4224318106935, 3736.654460634914, 2588.335544245243], "center": [2960.648671742032, 2264.9360494974617], "visible": true, "owner": "table", "asset_type": "coffeeMachine", "display_name": "coffeeMachine_1"}, "BP_Cupboard_TV_C_1": {"bbox": [789.9080958188755, 0.0, 4096.0, 708.7649738338087], "center": [2577.762908630241, 472.63818961609286], "visible": true, "owner": "room", "asset_type": "cabinet", "display_name": "cabinet_1"}, "BP_Radio_Dock_C_0": {"bbox": [2572.9085101771157, 0.0, 3314.3743820446043, -22.354624701564717], "center": [2831.421537640649, -166.85692531479708], "visible": false, "owner": "room", "asset_type": "radio", "display_name": "radio_1"}, "BP_Rag_01_C_1": {"bbox": [793.2856219426, 0.0, 1098.2148718211301, 52.85666497989041], "center": [970.4414695230001, -116.4706513099809], "visible": true, "owner": "room", "asset_type": "rag", "display_name": "rag_1"}, "BP_RemoteController_01_C_1": {"bbox": [1583.4208542388953, 0.0, 2038.346514106746, -135.2507987605286], "center": [1815.6639587949885, -191.54013320012655], "visible": false, "owner": "room", "asset_type": "remoteControl", "display_name": "remoteControl_1"}, "BP_Sofa_003_C_0": {"bbox": [0.0, 937.0829668349215, 824.2753563346593, 2600.9050192552786], "center": [404.9528652008186, 1825.7195153255389], "visible": true, "owner": "room", "asset_type": "shortBacklessSofa", "display_name": "shortBacklessSofa_1"}, "BP_Sofa_001_C_0": {"bbox": [0.0, 3139.3684917463665, 4096.0, 4096.0], "center": [1881.3966684240852, 3829.5739293909364], "visible": true, "owner": "room", "asset_type": "longBackrestSofa", "display_name": "longBackrestSofa_1"}, "BP_TV_01_C_0": {"bbox": [0.0, 0.0, 4096.0, 4096.0], "center": [3076.000784392837, -1368.2751724119926], "visible": true, "owner": "room", "asset_type": "tv", "display_name": "tv_1"}, "BP_Carpet_Bedroom1_C_0": {"bbox": [389.61171717003623, 1429.9309084339852, 4096.0, 3911.402156204857], "center": [2280.352122652125, 2659.094751541758], "visible": true, "owner": "room", "asset_type": "carpet", "display_name": "carpet_1"}, "BP_Toy_Dog_C_2146536852": {"bbox": [1797.8178340533855, 2132.8703460415404, 2337.7875638380247, 2416.3470720745195], "center": [2063.785935418858, 2236.592258927815], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "toy", "display_name": "toy_1"}, "BP_Pencil_Ballpen_02_C_2146536850": {"bbox": [2326.943713705707, 2209.686088038521, 2413.640591852845, 2405.431343716672], "center": [2330.0302888331553, 2413.515174044235], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_1"}, "BP_Pencil_007_C_2146536831": {"bbox": [3244.4022636655955, 2313.702313553653, 3469.2068415413673, 2420.9210709771132], "center": [3253.618247600173, 2427.094452613167], "visible": true, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "asset_type": "pen", "display_name": "pen_2"}, "BP_Book_33_C_2146536828": {"bbox": [1479.0158345327081, 1914.829166236745, 1505.8773459943554, 2192.843185742324], "center": [1505.7025014198364, 2188.5090588052362], "visible": true, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "asset_type": "book", "display_name": "book_1"}, "BP_Doll_ncteague_C_2146536826": {"bbox": [1308.4802866052876, 1418.3459390591825, 1699.2512228793637, 1516.4734613322098], "center": [1564.1580656886501, 1515.8672172690235], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "doll", "display_name": "doll_1"}, "BP_DrinkContainer_Wines03_C_2146536815": {"bbox": [1514.670734455829, 1296.6015334835497, 1705.8095061725408, 1692.670001370971], "center": [1672.8461365622359, 1600.248294094938], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "wine", "display_name": "wine_1"}, "BP_Cup_Decor_003_C_2146536805": {"bbox": [3444.234073411631, 1290.1603399851065, 3529.062591597803, 1471.2419041591788], "center": [3445.940318307551, 1401.5377028868693], "visible": true, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "asset_type": "cup", "display_name": "cup_2"}, "BP_Flex_Cup_Kitchen_2_C_2146536793": {"bbox": [1708.3752490835768, 2329.155321980841, 1732.5110417478231, 2542.930359174739], "center": [1728.493170608882, 2423.9748038050584], "visible": true, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "asset_type": "cup", "display_name": "cup_3"}}, "topcamera_agents": {"SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17": {"pixel_coords": [1786.5175518467615, 3648.8805819196477], "visible": true, "display_name": "boy", "type": "boy"}, "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6": {"pixel_coords": [2002.948772251431, 3331.87101701911], "visible": true, "display_name": "girl", "type": "girl"}, "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9": {"pixel_coords": [552.7947338258298, 1750.7845029227033], "visible": true, "display_name": "grandpa", "type": "grandpa"}, "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E": {"pixel_coords": [2149.37868524248, 421.91079642544446], "visible": true, "display_name": "girl", "type": "girl"}}};
            let currentSceneName = "table_scene_map001_room_livingRoom_table1";
            const allScenes = ["table_scene_map001_room_diningRoom_table1", "table_scene_map001_room_livingRoom_table1", "table_scene_map002_room_diningRoom_table1", "table_scene_map002_room_kitchen_table1", "table_scene_map002_room_livingRoom_table1", "table_scene_map004_room_diningRoom_table1", "table_scene_map004_room_livingRoom_table1", "table_scene_map005_room_babyRoom_table1", "table_scene_map005_room_kitchen_table1", "table_scene_map005_room_livingRoom_table1", "table_scene_map006_room_kitchen_table1", "table_scene_map006_room_livingRoom_table1", "table_scene_map007_room_bedroom_1_table1", "table_scene_map008_room_babyRoom_table1", "table_scene_map009_room_diningRoom_table1", "table_scene_map009_room_livingRoom_table1", "table_scene_map010_room_diningRoom_table1", "table_scene_map010_room_livingRoom_table1", "table_scene_map010_room_livingRoom_table2", "table_scene_map010_room_livingRoom_table4", "table_scene_map011_room_diningRoom_table1", "table_scene_map011_room_livingRoom_table1", "table_scene_map013_room_diningRoom_table1", "table_scene_map013_room_livingRoom_table1", "table_scene_map014_room_bedroom_table1", "table_scene_map014_room_diningRoom_table1", "table_scene_map021_room_livingRoom_table1", "table_scene_map021_room_officeRoom_table1", "table_scene_map092_room_livingRoom_table3", "table_scene_map097_room_livingRoom_table1", "table_scene_map098_room_diningRoom_table1", "table_scene_map098_room_diningRoom_table2", "table_scene_map098_room_livingRoom_table1", "table_scene_map100_room_livingRoom_table2", "table_scene_map100_room_livingRoom_table4", "table_scene_map101_room_diningRoom_table1", "table_scene_map107_room_diningRoom_table1", "table_scene_map107_room_livingRoom_table2", "table_scene_map200_room_diningRoom_table1", "table_scene_map200_room_livingRoom_table2", "table_scene_map201_room_bedroom_table1", "table_scene_map202_room_diningRoom_table1", "table_scene_map202_room_livingRoom_table1", "table_scene_map203_room_bedroom_table1", "table_scene_map203_room_kitchen_table1", "table_scene_map203_room_livingRoom_table1", "table_scene_map204_room_diningRoom_table1", "table_scene_map204_room_livingRoom_table1", "table_scene_map205_room_bedroom_table1", "table_scene_map205_room_bedroom_table2", "table_scene_map205_room_diningRoom_table1", "table_scene_map205_room_livingRoom_table1", "table_scene_map206_room_diningRoom_table1", "table_scene_map206_room_livingRoom_table1", "table_scene_map207_room_diningRoom_table1", "table_scene_map207_room_livingRoom_table1", "table_scene_map208_room_kitchen_8_table1", "table_scene_map208_room_livingRoom_table1", "table_scene_map209_room_officeRoom_table2", "table_scene_map210_room_diningRoom_table1", "table_scene_map210_room_livingRoom_table2", "table_scene_map211_room_officeRoom_table2", "table_scene_map212_room_kitchen_table1", "table_scene_map212_room_livingRoom_table1", "table_scene_map213_room_diningRoom_table1", "table_scene_map213_room_livingRoom_table1", "table_scene_map214_room_diningRoom_table1", "table_scene_map214_room_livingRoom_table1", "table_scene_map216_room_kitchen_table1", "table_scene_map216_room_livingRoom_table1", "table_scene_map217_room_diningRoom_table1", "table_scene_map217_room_livingRoom_table1", "table_scene_map218_room_diningRoom_table1", "table_scene_map218_room_livingRoom_table1", "table_scene_map219_room_kitchen_table1", "table_scene_map219_room_livingRoom_table1", "table_scene_map220_room_diningRoom_table1", "table_scene_map220_room_livingRoom_table2", "table_scene_map221_room_diningRoom_table1", "table_scene_map221_room_livingRoom_table2", "table_scene_map221_room_livingRoom_table3", "table_scene_map222_room_diningRoom_table1", "table_scene_map222_room_livingRoom_table1", "table_scene_map223_room_diningRoom_table1", "table_scene_map223_room_livingRoom_table1", "table_scene_map224_room_diningRoom_table1", "table_scene_map224_room_livingRoom_table1", "table_scene_map225_room_bedroom_table1", "table_scene_map225_room_officeRoom_table2", "table_scene_map226_room_kitchen_table1", "table_scene_map226_room_livingRoom_table1", "table_scene_map227_room_bedroom_table2", "table_scene_map227_room_diningRoom_table1", "table_scene_map227_room_livingRoom_table2", "table_scene_map228_room_officeRoom_132_table1", "table_scene_map228_room_officeRoom_132_table2", "table_scene_map229_room_kitchen_table1", "table_scene_map229_room_livingRoom_table1", "table_scene_map230_room_bedroom_table1", "table_scene_map230_room_bedroom_table2", "table_scene_map230_room_kitchen_table1", "table_scene_map230_room_livingRoom_table1", "table_scene_map232_room_diningRoom_table1", "table_scene_map232_room_livingRoom_table2", "table_scene_map232_room_livingRoom_table3", "table_scene_map233_room_diningRoom_table1", "table_scene_map233_room_livingRoom_table2", "table_scene_map234_room_diningRoom_table1", "table_scene_map234_room_livingRoom_table1", "table_scene_map235_room_officeRoom_123_table1", "table_scene_map235_room_officeRoom_123_table2", "table_scene_map236_room_diningRoom_table1", "table_scene_map236_room_livingRoom_table1", "table_scene_map237_room_kitchen_table1", "table_scene_map237_room_livingRoom_table1", "table_scene_map238_room_livingRoom_table1", "table_scene_map239_room_kitchen_8_table1", "table_scene_map239_room_livingRoom_table1", "table_scene_map240_room_diningRoom_table1", "table_scene_map240_room_livingRoom_table1", "table_scene_map241_room_bedroom_table1", "table_scene_map241_room_livingRoom_table1", "table_scene_map242_room_diningRoom_table1", "table_scene_map242_room_livingRoom_table2", "table_scene_map243_room_livingRoom_8_table3", "table_scene_map243_room_livingRoom_8_table4", "table_scene_map243_room_officeRoom_132_table1", "table_scene_map243_room_officeRoom_132_table2", "table_scene_map244_room_livingRoom_table1", "table_scene_map244_room_officeRoom_table2", "table_scene_map245_room_diningRoom_table1", "table_scene_map245_room_livingRoom_table1", "table_scene_map246_room_diningRoom_table1", "table_scene_map246_room_livingRoom_table2", "table_scene_map247_room_livingRoom_table1", "table_scene_map248_room_diningRoom_table1", "table_scene_map248_room_livingRoom_table1", "table_scene_map250_room_livingRoom_table1", "table_scene_map250_room_officeRoom_188_table1", "table_scene_map250_room_officeRoom_188_table2", "table_scene_map251_room_bedroom_table1", "table_scene_map251_room_diningRoom_table1", "table_scene_map251_room_livingRoom_table1", "table_scene_map253_room_diningRoom_table1", "table_scene_map253_room_livingRoom_table2", "table_scene_map253_room_livingRoom_table3", "table_scene_map255_room_bedroom_table1", "table_scene_map255_room_diningRoom_table1", "table_scene_map255_room_livingRoom_table1", "table_scene_map256_room_kitchen_8_table1", "table_scene_map256_room_livingRoom_table1", "table_scene_map257_room_diningRoom_table1", "table_scene_map257_room_livingRoom_table1", "table_scene_map258_room_livingRoom_table2", "table_scene_map259_room_diningRoom_table1", "table_scene_map259_room_livingRoom_table2", "table_scene_map260_room_diningRoom_table1", "table_scene_map260_room_livingRoom_table1", "table_scene_map261_room_diningRoom_table1", "table_scene_map261_room_livingRoom_table2", "table_scene_map262_room_diningRoom_table1", "table_scene_map262_room_livingRoom_table1", "table_scene_map263_room_kitchen_8_table1", "table_scene_map263_room_livingRoom_table1", "table_scene_map265_room_officeRoom_table2", "table_scene_map266_room_diningRoom_table1", "table_scene_map266_room_livingRoom_table1", "table_scene_map267_room_officeRoom_table2", "table_scene_map268_room_diningRoom_table1", "table_scene_map268_room_livingRoom_table2", "table_scene_map268_room_livingRoom_table3", "table_scene_map269_room_diningRoom_table1", "table_scene_map269_room_livingRoom_table1", "table_scene_map270_room_bedroom_table1"];
            
            
            // ==================== 场景平面图可视化 ====================
            const sceneData = {"table": {"position": {"x": 498.91754150390625, "y": -44.21162796020508, "z": 1.3366773128509521}, "rotation": {"x": 0.0, "y": -0.0, "z": 0.7071067690849304, "w": 0.7071067690849304}, "bounds": {"min": {"x": 455.7310485839844, "y": -114.81076049804688, "z": 1.3366773128509521}, "max": {"x": 542.10400390625, "y": 26.387508392333984, "z": 33.09556198120117}}}, "roomObjects": [{"id": "BP_Cupboard_TV_C_1", "type": "cabinet", "position": {"x": 620.3928833007812, "y": -21.653480529785156, "z": -0.068122997879982}, "rotation": {"x": 0.0, "y": -0.0, "z": 0.7071067690849304, "w": 0.7071067690849304}, "owner": "room", "bounds": {"min": {"x": 601.449462890625, "y": -131.01885986328125, "z": -0.06812307238578796}, "max": {"x": 639.9688110351562, "y": 87.68344116210938, "z": 55.38727951049805}}, "display_name": "cabinet_1", "label_position": {"position": "top", "offset_y": -8}}, {"id": "BP_Radio_Dock_C_0", "type": "radio", "position": {"x": 611.8538208007812, "y": -22.470731735229492, "z": 55.26654815673828}, "rotation": {"x": 0.0, "y": -0.0, "z": 0.7071067690849304, "w": 0.7071067690849304}, "owner": "room", "bounds": {"min": {"x": 604.0432739257812, "y": -36.25631332397461, "z": 55.38727951049805}, "max": {"x": 619.6292114257812, "y": -8.685149192810059, "z": 74.52882385253906}}, "display_name": "radio_1", "label_position": {"position": "bottom", "offset_y": 8}}, {"id": "BP_Rag_01_C_1", "type": "rag", "position": {"x": 609.1709594726562, "y": -121.4864501953125, "z": 55.26841354370117}, "rotation": {"x": 0.0, "y": 0.0, "z": 0.0, "w": 1.0}, "owner": "room", "bounds": {"min": {"x": 600.0459594726562, "y": -129.3716583251953, "z": 55.38727951049805}, "max": {"x": 616.1084594726562, "y": -114.6330337524414, "z": 57.78291320800781}}, "display_name": "rag_1", "label_position": {"position": "top", "offset_y": -8}}, {"id": "BP_RemoteController_01_C_1", "type": "remoteControl", "position": {"x": 613.0359497070312, "y": -76.50228118896484, "z": 55.386512756347656}, "rotation": {"x": 0.0, "y": 0.0, "z": 0.0, "w": 1.0}, "owner": "room", "bounds": {"min": {"x": 610.04345703125, "y": -88.33718872070312, "z": 55.38727951049805}, "max": {"x": 616.0285034179688, "y": -64.66710662841797, "z": 57.62763977050781}}, "display_name": "remoteControl_1", "label_position": {"position": "bottom", "offset_y": 8}}, {"id": "BP_Sofa_003_C_0", "type": "shortBacklessSofa", "position": {"x": 511.7970886230469, "y": -195.6433563232422, "z": 0.3372046947479248}, "rotation": {"x": 0.0, "y": 0.0, "z": 0.0, "w": 1.0}, "owner": "room", "bounds": {"min": {"x": 458.7568664550781, "y": -229.9624481201172, "z": 1.6119216680526733}, "max": {"x": 564.8373413085938, "y": -161.3242645263672, "z": 33.65941619873047}}, "display_name": "shortBacklessSofa_1", "label_position": {"position": "top", "offset_y": -8}}, {"id": "BP_Sofa_001_C_0", "type": "longBackrestSofa", "position": {"x": 348.969970703125, "y": -77.71727752685547, "z": -2.4943947792053223}, "rotation": {"x": -0.0, "y": 0.0, "z": -0.7071067690849304, "w": 0.7071067690849304}, "owner": "room", "bounds": {"min": {"x": 293.7313232421875, "y": -206.09378051757812, "z": -2.762751579284668}, "max": {"x": 405.0168151855469, "y": 50.04229736328125, "z": 60.68777084350586}}, "display_name": "longBackrestSofa_1", "label_position": {"position": "top", "offset_y": -8}}, {"id": "BP_TV_01_C_0", "type": "tv", "position": {"x": 640.3621826171875, "y": -20.114349365234375, "z": 76.49736785888672}, "rotation": {"x": 0.0, "y": -0.0, "z": 0.7071067690849304, "w": 0.7071067690849304}, "owner": "room", "bounds": {"min": {"x": 637.7496948242188, "y": -115.23934936523438, "z": 76.37236785888672}, "max": {"x": 642.9871826171875, "y": 75.03260040283203, "z": 186.62237548828125}}, "display_name": "tv_1", "label_position": {"position": "top", "offset_y": -8}}, {"id": "BP_Carpet_Bedroom1_C_0", "type": "carpet", "position": {"x": 444.9830322265625, "y": -45.513450622558594, "z": -0.0681150034070015}, "rotation": {"x": 0.0, "y": 0.0, "z": 0.0, "w": 1.0}, "owner": "room", "bounds": {"min": {"x": 346.6797790527344, "y": -195.27346801757812, "z": -0.3456762433052063}, "max": {"x": 542.875732421875, "y": 104.41655731201172, "z": 2.310136079788208}}, "display_name": "carpet_1", "label_position": {"position": "top", "offset_y": -8}}], "personalObjects": [{"id": "BP_Fruit_Apple_02_C_1", "type": "apple", "position": {"x": 469.5347595214844, "y": -90.5368881225586, "z": 35.42200469970703}, "rotation": {"x": 0.04951269552111626, "y": 0.5999658107757568, "z": -0.18438313901424408, "w": 0.7769120931625366}, "owner": "table", "bounds": {"min": {"x": 466.68365478515625, "y": -95.5288314819336, "z": 34.9166374206543}, "max": {"x": 487.1009216308594, "y": -90.35623168945312, "z": 40.24832534790039}}, "display_name": "apple_1", "label_position": {"position": "bottom", "offset_y": 8}}, {"id": "BP_Food_Egg_C_1", "type": "egg", "position": {"x": 468.4737548828125, "y": -58.19752502441406, "z": 35.67445755004883}, "rotation": {"x": 0.559389591217041, "y": 0.5263158679008484, "z": -0.1351885348558426, "w": 0.6259384751319885}, "owner": "table", "bounds": {"min": {"x": 465.764404296875, "y": -62.021419525146484, "z": 33.7191047668457}, "max": {"x": 474.8323974609375, "y": -60.076438903808594, "z": 36.405975341796875}}, "display_name": "egg_1", "label_position": {"position": "bottom", "offset_y": 8}}, {"id": "BP_Oatmeal_Cookie_01_Single_C_1", "type": "oatmeal", "position": {"x": 504.0155029296875, "y": -111.14420318603516, "z": 32.82658767700195}, "rotation": {"x": -0.07387285679578781, "y": -0.06041876599192619, "z": 0.008612271398305893, "w": 0.9953985214233398}, "owner": "table", "bounds": {"min": {"x": 501.5955810546875, "y": -113.665283203125, "z": 33.02974319458008}, "max": {"x": 505.9501647949219, "y": -108.244384765625, "z": 36.420745849609375}}, "display_name": "oatmeal_1", "label_position": {"position": "bottom", "offset_y": 8}}, {"id": "BP_Cup_Pink_C_0", "type": "cup", "position": {"x": 475.88299560546875, "y": -27.021957397460938, "z": 33.09556198120117}, "rotation": {"x": 0.0, "y": 0.0, "z": 0.0, "w": 1.0}, "owner": "table", "bounds": {"min": {"x": 471.0697021484375, "y": -34.81660842895508, "z": 33.09556198120117}, "max": {"x": 480.6962890625, "y": -22.11928367614746, "z": 44.1959228515625}}, "display_name": "cup_1", "label_position": {"position": "bottom", "offset_y": 8}}, {"id": "BP_CoffeeMachine_1_C_0", "type": "coffeeMachine", "position": {"x": 480.13873291015625, "y": -5.8040642738342285, "z": 33.295562744140625}, "rotation": {"x": 0.0, "y": -0.0, "z": 0.537299633026123, "w": 0.8433914184570312}, "owner": "table", "bounds": {"min": {"x": 469.7095947265625, "y": -22.92439079284668, "z": 33.09556198120117}, "max": {"x": 489.5632019042969, "y": 11.784757614135742, "z": 72.13539123535156}}, "display_name": "coffeeMachine_1", "label_position": {"position": "bottom", "offset_y": 8}}, {"id": "BP_Toy_Dog_C_2146536852", "type": "toy", "position": {"x": 481.93927001953125, "y": -63.143802642822266, "z": 33.16941452026367}, "rotation": {"x": -8.53394624300563e-07, "y": -1.7456964940265607e-07, "z": 0.5823197364807129, "w": 0.8129598498344421}, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "bounds": {"min": {"x": 475.28619384765625, "y": -76.87026977539062, "z": 33.09558868408203}, "max": {"x": 488.57403564453125, "y": -49.42476272583008, "z": 60.13850402832031}}, "display_name": "toy_1", "label_position": {"position": "bottom", "offset_y": 8}}, {"id": "BP_Pencil_Ballpen_02_C_2146536850", "type": "pen", "position": {"x": 470.6532897949219, "y": -46.13325119018555, "z": 33.37360382080078}, "rotation": {"x": 0.5200552344322205, "y": 0.47713759541511536, "z": 0.6566089391708374, "w": 0.2659829258918762}, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "bounds": {"min": {"x": 471.2966003417969, "y": -46.23979187011719, "z": 32.70782470703125}, "max": {"x": 483.6247253417969, "y": -40.92052459716797, "z": 34.10002899169922}}, "display_name": "pen_1", "label_position": {"position": "bottom", "offset_y": 8}}, {"id": "BP_Pencil_007_C_2146536831", "type": "pen", "position": {"x": 469.8321228027344, "y": 12.73304271697998, "z": 33.62483215332031}, "rotation": {"x": 0.16120214760303497, "y": 0.686388373374939, "z": 0.675274670124054, "w": 0.21653860807418823}, "owner": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "bounds": {"min": {"x": 470.3589172363281, "y": 12.480563163757324, "z": 33.050933837890625}, "max": {"x": 476.9891357421875, "y": 25.974767684936523, "z": 34.355751037597656}}, "display_name": "pen_2", "label_position": {"position": "bottom", "offset_y": 8}}, {"id": "BP_Book_33_C_2146536828", "type": "book", "position": {"x": 485.0162353515625, "y": -98.85982513427734, "z": 33.166725158691406}, "rotation": {"x": 0.624758780002594, "y": 0.33072543144226074, "z": 0.3315507471561432, "w": 0.6247969269752502}, "owner": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "bounds": {"min": {"x": 484.8886413574219, "y": -99.97933197021484, "z": 33.08658218383789}, "max": {"x": 502.3934020996094, "y": -98.8698501586914, "z": 35.28453063964844}}, "display_name": "book_1", "label_position": {"position": "bottom", "offset_y": 8}}, {"id": "BP_Doll_ncteague_C_2146536826", "type": "doll", "position": {"x": 528.0780639648438, "y": -95.13182067871094, "z": 33.11163330078125}, "rotation": {"x": -0.0030679686460644007, "y": 0.0023103237617760897, "z": -0.9507747292518616, "w": 0.30985909700393677}, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "bounds": {"min": {"x": 528.0350952148438, "y": -104.14591217041016, "z": 33.12763977050781}, "max": {"x": 528.0590209960938, "y": -86.47981262207031, "z": 53.48189163208008}}, "display_name": "doll_1", "label_position": {"position": "bottom", "offset_y": 8}}, {"id": "BP_DrinkContainer_Wines03_C_2146536815", "type": "wine", "position": {"x": 522.806640625, "y": -88.28290557861328, "z": 32.512264251708984}, "rotation": {"x": -0.02012922801077366, "y": 0.009018370881676674, "z": -0.5462859272956848, "w": 0.8373082876205444}, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "bounds": {"min": {"x": 516.751953125, "y": -89.7194595336914, "z": 33.1484489440918}, "max": {"x": 530.0271606445312, "y": -86.0564956665039, "z": 66.06202697753906}}, "display_name": "wine_1", "label_position": {"position": "bottom", "offset_y": 8}}, {"id": "BP_Cup_Decor_003_C_2146536805", "type": "cup", "position": {"x": 535.391845703125, "y": 25.33526611328125, "z": 33.131011962890625}, "rotation": {"x": -6.850363570265472e-05, "y": 0.00015878169506322592, "z": 0.9275922775268555, "w": 0.3735940158367157}, "owner": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "bounds": {"min": {"x": 530.9397583007812, "y": 25.250333786010742, "z": 33.09537887573242}, "max": {"x": 539.8436889648438, "y": 25.422691345214844, "z": 40.368064880371094}}, "display_name": "cup_2", "label_position": {"position": "bottom", "offset_y": 8}}, {"id": "BP_Flex_Cup_Kitchen_2_C_2146536793", "type": "cup", "position": {"x": 469.9350280761719, "y": -84.61189270019531, "z": 33.101646423339844}, "rotation": {"x": 0.0, "y": -0.0, "z": 0.8942116498947144, "w": 0.44764444231987}, "owner": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "bounds": {"min": {"x": 463.7220764160156, "y": -84.93679809570312, "z": 33.09556198120117}, "max": {"x": 476.00543212890625, "y": -84.3555679321289, "z": 38.910125732421875}}, "display_name": "cup_3", "label_position": {"position": "bottom", "offset_y": 8}}], "agents": [{"id": "SDBP_Aich_AIBaby_Tiantian_90_0_49C6D57440D5E6317F3E0BA3EAAC3A17", "type": "boy", "display_name": "boy", "position": {"x": 410.969970703125, "y": -77.71727752685547, "z": 58.00312423706055}, "rotation": {"x": 0.0, "y": -0.0, "z": 6.083977321935663e-09, "w": 1.0}, "label_offset": -25}, {"id": "SDBP_Aich_AIBabyV7_Shoes_1_A96C61AB4819D2F7B22399984A3D82D6", "type": "girl", "display_name": "girl", "position": {"x": 427.8189392089844, "y": -66.47664642333984, "z": 58.649993896484375}, "rotation": {"x": 0.0, "y": -0.0, "z": 0.3792572021484375, "w": 0.9252912998199463}, "label_offset": 35}, {"id": "SDBP_Aich_Yeye_2_0DCEB0554B0912CD67DFB5900C5C13A9", "type": "grandpa", "display_name": "grandpa", "position": {"x": 511.7970886230469, "y": -153.6433563232422, "z": 41.659420013427734}, "rotation": {"x": 0.0, "y": -0.0, "z": 0.7071067690849304, "w": 0.7071067690849304}, "label_offset": 15}, {"id": "SDBP_Aich_AIBaby_Lele_Shoes_3_4C95CAE041667B18C5775DB4F311548E", "type": "girl", "display_name": "girl", "position": {"x": 577.0469970703125, "y": -58.97700119018555, "z": 59.649993896484375}, "rotation": {"x": 0.0, "y": -0.0, "z": 0.9876906871795654, "w": 0.15641950070858002}, "label_offset": 15}], "cameras": [{"id": "BP_CoffeeTable_Table_Coffee_C_0_Camera_1", "position": {"x": 563.748779296875, "y": 64.77796936035156, "z": 250.0}, "rotation": {"x": 0.3919135332107544, "y": 0.23358431458473206, "z": -0.764386773109436, "w": 0.45558202266693115}, "direction": {"x": -0.38631341297421073, "y": -0.7141950412902034}, "display_name": "Camera_1", "label_offset": 15}, {"id": "BP_CoffeeTable_Table_Coffee_C_0_Camera_2", "position": {"x": 625.8384399414062, "y": -65.63411712646484, "z": 250.0}, "rotation": {"x": -0.47804364562034607, "y": 0.0026834444142878056, "z": 0.8783181309700012, "w": 0.004930341150611639}, "direction": {"x": -0.8397223420938537, "y": 0.00942767228061911}, "display_name": "Camera_2", "label_offset": 15}, {"id": "BP_CoffeeTable_Table_Coffee_C_0_Camera_3", "position": {"x": 396.5650329589844, "y": -226.09536743164062, "z": 250.0}, "rotation": {"x": -0.1969318836927414, "y": 0.3483325242996216, "z": 0.45103007555007935, "w": 0.7977807521820068}, "direction": {"x": 0.3781415617301054, "y": 0.6284338221048458}, "display_name": "Camera_3", "label_offset": 15}, {"id": "BP_CoffeeTable_Table_Coffee_C_0_Camera_4", "position": {"x": 358.7624816894531, "y": -68.38395690917969, "z": 250.0}, "rotation": {"x": -0.007390981540083885, "y": 0.472749799489975, "z": 0.013774482533335686, "w": 0.8810580372810364}, "direction": {"x": 0.8328364070350255, "y": 0.026047535089998575}, "display_name": "Camera_4", "label_offset": 15}, {"id": "BP_CoffeeTable_Table_Coffee_C_0_Camera_5", "position": {"x": 589.01416015625, "y": -210.99618530273438, "z": 250.0}, "rotation": {"x": -0.36692753434181213, "y": 0.19962963461875916, "z": 0.7981040477752686, "w": 0.43421438336372375}, "direction": {"x": -0.4123285834025783, "y": 0.6373008650170622}, "display_name": "Camera_5", "label_offset": 15}, {"id": "BP_CoffeeTable_Table_Coffee_C_0_Camera_6", "position": {"x": 288.8219909667969, "y": -4.270834445953369, "z": 250.0}, "rotation": {"x": 0.05260974541306496, "y": 0.36804893612861633, "z": -0.1313605010509491, "w": 0.918975830078125}, "direction": {"x": 0.6626344681410858, "y": -0.193388354244588}, "display_name": "Camera_6", "label_offset": 15}, {"id": "BP_CoffeeTable_Table_Coffee_C_0_Camera_7", "position": {"x": 419.9651794433594, "y": 132.0592803955078, "z": 250.0}, "rotation": {"x": 0.2139599472284317, "y": 0.3094274401664734, "z": -0.5269643068313599, "w": 0.762092113494873}, "direction": {"x": 0.24612591313774246, "y": -0.6522288098169895}, "display_name": "Camera_7", "label_offset": 15}, {"id": "BP_CoffeeTable_Table_Coffee_C_0_Camera_8", "position": {"x": 263.5148620605469, "y": -85.43968200683594, "z": 250.0}, "rotation": {"x": -0.016261421144008636, "y": 0.352926105260849, "z": 0.04305887222290039, "w": 0.9345183968544006}, "direction": {"x": 0.6582314792824668, "y": 0.06078639457725199}, "display_name": "Camera_8", "label_offset": 15}]};
            
            // 创建SVG
            const svg = d3.select("#scene-visualization")
                .append("svg")
                .attr("width", "100%")
                .attr("height", "100%");
            
            // 定义箭头标记
            svg.append("defs").append("marker")
                .attr("id", "arrow")
                .attr("viewBox", "0 -5 10 10")
                .attr("refX", 10)
                .attr("refY", 0)
                .attr("markerWidth", 6)
                .attr("markerHeight", 6)
                .attr("orient", "auto")
                .append("path")
                .attr("d", "M0,-5L10,0L0,5")
                .attr("fill", "#F44336");
            
            // 创建缩放功能（允许0.8-1.8倍缩放，以桌子中心为缩放中心）
            const zoom = d3.zoom()
                .scaleExtent([0.8, 1.8])  // 允许0.8到1.8倍缩放
                .on("zoom", (event) => {
                    container.attr("transform", event.transform);
                });
            
            svg.call(zoom);
            
            // 创建容器
            const container = svg.append("g");
            
            // 绘制表格边界
            container.append("rect")
                .attr("x", sceneData.table.bounds.min.x)
                .attr("y", sceneData.table.bounds.min.y)
                .attr("width", sceneData.table.bounds.max.x - sceneData.table.bounds.min.x)
                .attr("height", sceneData.table.bounds.max.y - sceneData.table.bounds.min.y)
                .attr("class", "table");
            
            // 绘制房间物体
            sceneData.roomObjects.forEach(obj => {
                if (obj.bounds) {
                    container.append("rect")
                        .attr("x", obj.bounds.min.x)
                        .attr("y", obj.bounds.min.y)
                        .attr("width", obj.bounds.max.x - obj.bounds.min.x)
                        .attr("height", obj.bounds.max.y - obj.bounds.min.y)
                        .attr("class", "object-bounds room-bounds");
                }
                
                container.append("circle")
                    .attr("class", "room-object")
                    .attr("cx", obj.position.x)
                    .attr("cy", obj.position.y)
                    .attr("r", 5)
                    .attr("stroke", "black")
                    .attr("stroke-width", 0.5);
                
                // 添加标签
                if (obj.bounds) {
                    const centerX = (obj.bounds.min.x + obj.bounds.max.x) / 2;
                    const anchorY = obj.label_position.position === 'top' ? obj.bounds.min.y : obj.bounds.max.y;
                    const offsetY = obj.label_position.offset_y;
                    
                    const labelGroup = container.append("g");
                    const text = labelGroup.append("text")
                        .attr("class", "label")
                        .attr("x", centerX)
                        .attr("y", anchorY + offsetY)
                        .attr("text-anchor", "middle")
                        .attr("fill", "#2196F3")
                        .text(obj.display_name);
                    
                    const bbox = text.node().getBBox();
                    labelGroup.insert("rect", "text")
                        .attr("class", "label-bg")
                        .attr("x", bbox.x - 2)
                        .attr("y", bbox.y - 1)
                        .attr("width", bbox.width + 4)
                        .attr("height", bbox.height + 2)
                        .attr("rx", 2);
                }
            });
            
            // 绘制个人物体（添加交互）
            sceneData.personalObjects.forEach((obj, index) => {
                const objGroup = container.append("g")
                    .attr("class", "personal-obj-group")
                    .attr("data-index", index);
                
                if (obj.bounds) {
                    objGroup.append("rect")
                        .attr("x", obj.bounds.min.x)
                        .attr("y", obj.bounds.min.y)
                        .attr("width", obj.bounds.max.x - obj.bounds.min.x)
                        .attr("height", obj.bounds.max.y - obj.bounds.min.y)
                        .attr("class", "object-bounds personal-bounds")
                        .style("cursor", "pointer")
                        .on("mouseenter", function() {
                            d3.select(this).classed("highlighted", true);
                            objGroup.select(".personal-object").classed("highlighted", true);
                            objGroup.selectAll(".personal-label").classed("highlighted", true);
                            // 动态调整白色底尺寸以适应放大的文字
                            setTimeout(() => {
                                objGroup.selectAll(".personal-label").each(function() {
                                    const labelNode = this;
                                    const bgNode = this.previousSibling;
                                    if (bgNode && bgNode.classList.contains('personal-label-bg')) {
                                        const bbox = labelNode.getBBox();
                                        d3.select(bgNode)
                                            .attr('x', bbox.x - 2)
                                            .attr('y', bbox.y - 1)
                                            .attr('width', bbox.width + 4)
                                            .attr('height', bbox.height + 2);
                                    }
                                });
                            }, 50);
                        })
                        .on("mouseleave", function() {
                            d3.select(this).classed("highlighted", false);
                            objGroup.select(".personal-object").classed("highlighted", false);
                            objGroup.selectAll(".personal-label").classed("highlighted", false);
                            // 动态调整白色底尺寸以适应缩小的文字
                            setTimeout(() => {
                                objGroup.selectAll(".personal-label").each(function() {
                                    const labelNode = this;
                                    const bgNode = this.previousSibling;
                                    if (bgNode && bgNode.classList.contains('personal-label-bg')) {
                                        const bbox = labelNode.getBBox();
                                        d3.select(bgNode)
                                            .attr('x', bbox.x - 2)
                                            .attr('y', bbox.y - 1)
                                            .attr('width', bbox.width + 4)
                                            .attr('height', bbox.height + 2);
                                    }
                                });
                            }, 50);
                        });
                }
                
                objGroup.append("circle")
                    .attr("class", "personal-object")
                    .attr("cx", obj.position.x)
                    .attr("cy", obj.position.y)
                    .attr("r", 3)
                    .attr("stroke", "black")
                    .attr("stroke-width", 0.5)
                    .style("cursor", "pointer")
                    .on("mouseenter", function() {
                        d3.select(this)
                            .classed("highlighted", true)
                            .transition()
                            .duration(200)
                            .attr("r", 6);
                        objGroup.select(".personal-bounds").classed("highlighted", true);
                        objGroup.selectAll(".personal-label").classed("highlighted", true);
                        // 动态调整白色底尺寸
                        setTimeout(() => {
                            objGroup.selectAll(".personal-label").each(function() {
                                const labelNode = this;
                                const bgNode = this.previousSibling;
                                if (bgNode && bgNode.classList.contains('personal-label-bg')) {
                                    const bbox = labelNode.getBBox();
                                    d3.select(bgNode)
                                        .attr('x', bbox.x - 2)
                                        .attr('y', bbox.y - 1)
                                        .attr('width', bbox.width + 4)
                                        .attr('height', bbox.height + 2);
                                }
                            });
                        }, 50);
                    })
                    .on("mouseleave", function() {
                        d3.select(this)
                            .classed("highlighted", false)
                            .transition()
                            .duration(200)
                            .attr("r", 3);
                        objGroup.select(".personal-bounds").classed("highlighted", false);
                        objGroup.selectAll(".personal-label").classed("highlighted", false);
                        // 动态调整白色底尺寸
                        setTimeout(() => {
                            objGroup.selectAll(".personal-label").each(function() {
                                const labelNode = this;
                                const bgNode = this.previousSibling;
                                if (bgNode && bgNode.classList.contains('personal-label-bg')) {
                                    const bbox = labelNode.getBBox();
                                    d3.select(bgNode)
                                        .attr('x', bbox.x - 2)
                                        .attr('y', bbox.y - 1)
                                        .attr('width', bbox.width + 4)
                                        .attr('height', bbox.height + 2);
                                }
                            });
                        }, 50);
                    });
                
                // 添加标签
                if (obj.bounds) {
                    const centerX = (obj.bounds.min.x + obj.bounds.max.x) / 2;
                    const anchorY = obj.label_position.position === 'top' ? obj.bounds.min.y : obj.bounds.max.y;
                    const offsetY = obj.label_position.offset_y;
                    
                    const labelGroup = objGroup.append("g");
                    const text = labelGroup.append("text")
                        .attr("class", "label personal-label")
                        .attr("x", centerX)
                        .attr("y", anchorY + offsetY)
                        .attr("text-anchor", "middle")
                        .attr("fill", "#4CAF50")
                        .text(obj.display_name);
                    
                    const bbox = text.node().getBBox();
                    labelGroup.insert("rect", "text")
                        .attr("class", "label-bg personal-label-bg")
                        .attr("x", bbox.x - 2)
                        .attr("y", bbox.y - 1)
                        .attr("width", bbox.width + 4)
                        .attr("height", bbox.height + 2)
                        .attr("rx", 2);
                }
            });
            
            // 绘制代理人（菱形，无箭头，标签在上方）
            sceneData.agents.forEach(agent => {
                // 绘制菱形
                const size = 8;
                const path = `M ${agent.position.x},${agent.position.y - size} 
                             L ${agent.position.x + size},${agent.position.y} 
                             L ${agent.position.x},${agent.position.y + size} 
                             L ${agent.position.x - size},${agent.position.y} Z`;
                
                container.append("path")
                    .attr("d", path)
                    .attr("class", "agent")
                    .attr("stroke", "black")
                    .attr("stroke-width", 1.5);
                
                // 添加标签（放在上方）
                const labelGroup = container.append("g");
                const text = labelGroup.append("text")
                    .attr("class", "label")
                    .attr("x", agent.position.x)
                    .attr("y", agent.position.y - 15)
                    .attr("text-anchor", "middle")
                    .attr("fill", "#FF9800")
                    .text(agent.display_name);
                
                const bbox = text.node().getBBox();
                labelGroup.insert("rect", "text")
                    .attr("class", "label-bg")
                    .attr("x", bbox.x - 3)
                    .attr("y", bbox.y - 1)
                    .attr("width", bbox.width + 6)
                    .attr("height", bbox.height + 2)
                    .attr("rx", 3);
            });
            
            // 绘制相机（三角形+箭头）
            sceneData.cameras.forEach(camera => {
                // 绘制三角形
                const size = 6;
                const path = `M ${camera.position.x},${camera.position.y - size} 
                             L ${camera.position.x - size},${camera.position.y + size} 
                             L ${camera.position.x + size},${camera.position.y + size} Z`;
                
                container.append("path")
                    .attr("d", path)
                    .attr("class", "camera")
                    .attr("stroke", "black")
                    .attr("stroke-width", 1.5);
                
                // 绘制方向箭头
                const arrowLength = 20;
                const magnitude = Math.sqrt(camera.direction.x ** 2 + camera.direction.y ** 2);
                if (magnitude > 0) {
                    const normX = camera.direction.x / magnitude;
                    const normY = camera.direction.y / magnitude;
                    const endX = camera.position.x + normX * arrowLength;
                    const endY = camera.position.y + normY * arrowLength;
                    
                    container.append("line")
                        .attr("x1", camera.position.x)
                        .attr("y1", camera.position.y)
                        .attr("x2", endX)
                        .attr("y2", endY)
                        .attr("class", "direction-arrow")
                        .attr("stroke", "#F44336")
                        .attr("marker-end", "url(#arrow)");
                }
                
                // 添加标签
                const labelGroup = container.append("g");
                const text = labelGroup.append("text")
                    .attr("class", "label")
                    .attr("x", camera.position.x)
                    .attr("y", camera.position.y + camera.label_offset)
                    .attr("text-anchor", "middle")
                    .attr("fill", "#F44336")
                    .text(camera.display_name);
                
                const bbox = text.node().getBBox();
                labelGroup.insert("rect", "text")
                    .attr("class", "label-bg")
                    .attr("x", bbox.x - 2)
                    .attr("y", bbox.y - 1)
                    .attr("width", bbox.width + 4)
                    .attr("height", bbox.height + 2)
                    .attr("rx", 2);
            });
            
            // 自动缩放以适应所有内容（刚好框住所有物品，留足够边距）
            const bounds = container.node().getBBox();
            const svgRect = svg.node().getBoundingClientRect();
            
            // 获取桌子中心坐标（从scene_info中获取）
            const tableCenter = {
                x: sceneData.table.position.x,
                y: sceneData.table.position.y
            };
            
            // 计算刚好合适的缩放比例（留85%的空间，留更多边距）
            const scale = Math.min(
                (svgRect.width * 0.85) / bounds.width,
                (svgRect.height * 0.85) / bounds.height
            );
            
            // 计算以桌子中心为基准的translate值
            const translateX = svgRect.width / 2 - tableCenter.x * scale;
            const translateY = svgRect.height / 2 - tableCenter.y * scale;
            
            // 设置初始变换，以桌子中心居中显示
            const initialTransform = d3.zoomIdentity
                .translate(translateX, translateY)
                .scale(scale);
            
            // 应用初始变换
            svg.call(zoom.transform, initialTransform);
            
            // 配置zoom，使缩放以桌子中心为基准（禁用平移）
            zoom.on("zoom", (event) => {
                const transform = event.transform;
                // 计算新的translate，使缩放始终以桌子中心为基准
                const newTranslateX = svgRect.width / 2 - tableCenter.x * transform.k;
                const newTranslateY = svgRect.height / 2 - tableCenter.y * transform.k;
                
                container.attr("transform", 
                    `translate(${newTranslateX}, ${newTranslateY}) scale(${transform.k})`
                );
            });
    
            
            // ==================== 相机图片bbox绘制 ====================
            const imageWidth = 4096;
            const imageHeight = 4096;
            
            function drawBboxOnCamera(cameraKey, svgId, imgId) {
                const svgElement = document.getElementById(svgId);
                const imgElement = document.getElementById(imgId);
                
                if (!svgElement || !imgElement) return;
                
                // 等待图片加载完成
                if (!imgElement.complete) {
                    imgElement.onload = () => drawBboxOnCamera(cameraKey, svgId, imgId);
                    return;
                }
                
                // 获取图片的实际显示尺寸
                const displayWidth = imgElement.clientWidth;
                const displayHeight = imgElement.clientHeight;
                
                // 计算缩放比例
                const scaleX = displayWidth / imageWidth;
                const scaleY = displayHeight / imageHeight;
                
                // 设置SVG尺寸
                svgElement.setAttribute('viewBox', `0 0 ${displayWidth} ${displayHeight}`);
                
                // 清空现有内容
                svgElement.innerHTML = '';
                
                // 获取该相机的投影数据
                const cameraProjections = projections[cameraKey] || {};
                
                // 绘制每个物体的bbox
                Object.entries(cameraProjections).forEach(([objectId, projection]) => {
                    // 只绘制个人物品（非房间物品）
                    if (projection.owner === 'room' || !projection.visible) return;
                    
                    const [xMin, yMin, xMax, yMax] = projection.bbox;
                    
                    // 转换到显示坐标
                    const x = xMin * scaleX;
                    const y = yMin * scaleY;
                    const width = (xMax - xMin) * scaleX;
                    const height = (yMax - yMin) * scaleY;
                    
                    // 创建组
                    const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                    g.setAttribute('class', 'bbox-group');
                    g.setAttribute('data-object-id', objectId);
                    
                    // 创建矩形
                    const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                    rect.setAttribute('x', x);
                    rect.setAttribute('y', y);
                    rect.setAttribute('width', width);
                    rect.setAttribute('height', height);
                    rect.setAttribute('class', 'bbox-rect');
                    
                    g.appendChild(rect);
                    
                    // 创建标签
                    const centerX = x + width / 2;
                    const labelY = y - 5;
                    
                    // 标签背景
                    const textBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                    textBg.setAttribute('class', 'bbox-label-bg');
                    textBg.setAttribute('rx', 2);
                    
                    // 标签文字
                    const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    text.setAttribute('x', centerX);
                    text.setAttribute('y', labelY);
                    text.setAttribute('text-anchor', 'middle');
                    text.setAttribute('dominant-baseline', 'bottom');
                    text.setAttribute('class', 'bbox-label');
                    text.textContent = projection.display_name;
                    
                    g.appendChild(textBg);
                    g.appendChild(text);
                    svgElement.appendChild(g);
                    
                    // 在添加到DOM后更新背景尺寸
                    setTimeout(() => {
                        try {
                            const bbox = text.getBBox();
                            textBg.setAttribute('x', bbox.x - 3);
                            textBg.setAttribute('y', bbox.y - 2);
                            textBg.setAttribute('width', bbox.width + 6);
                            textBg.setAttribute('height', bbox.height + 4);
                        } catch (e) {
                            // getBBox可能失败，忽略
                        }
                    }, 10);
                });
            }
            
            // 为所有相机绘制bbox
            const cameraCount = 8;
            for (let i = 0; i < cameraCount; i++) {
                drawBboxOnCamera(i, `bbox-svg-${i}`, `camera-img-${i}`);
            }
    
            
            // ==================== TopCamera专门绘制（包含人物标签） ====================
            // 存储物品与人物的关系
            const objectOwnershipMap = {};
            
            // 定义人物颜色映射（除了绿色，使用显眼的颜色）
            const agentColors = [
                '#FF5722',  // 深橙色
                '#2196F3',  // 蓝色
                '#9C27B0',  // 紫色
                '#FF9800',  // 橙色
                '#E91E63',  // 粉红色
                '#00BCD4',  // 青色
                '#FFEB3B',  // 黄色
                '#795548'   // 棕色
            ];
            
            // 生成左侧人物标签
            function generateAgentTags() {
                const container = document.getElementById('agent-tags-container');
                if (!container || !projections.topcamera_agents) return;
                
                container.innerHTML = '';
                
                // 添加公共和未知标签
                const specialTags = [
                    { id: 'public', name: 'Public', color: '#9E9E9E' },
                    { id: 'unknown', name: 'Unknown', color: '#607D8B' }
                ];
                
                specialTags.forEach(tag => {
                    createAgentTagWithObjects(container, tag.id, tag.name, tag.color);
                });
                
                // 添加普通人物标签
                const agents = Object.entries(projections.topcamera_agents);
                agents.forEach(([agentId, agentData], index) => {
                    const color = agentColors[index % agentColors.length];
                    createAgentTagWithObjects(container, agentId, agentData.display_name, color);
                });
                
                // 添加按钮容器
                const buttonContainer = document.createElement('div');
                buttonContainer.style.cssText = 'display: flex; gap: 10px; margin-top: auto; padding-top: 15px;';
                
                // 提交按钮
                const submitBtn = document.createElement('button');
                submitBtn.textContent = '提交';
                submitBtn.style.cssText = 'flex: 1; padding: 10px; background: #4CAF50; color: white; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; font-size: 14px;';
                submitBtn.onclick = submitAllOwnerships;
                
                // 重置按钮
                const resetBtn = document.createElement('button');
                resetBtn.textContent = '重置';
                resetBtn.style.cssText = 'flex: 1; padding: 10px; background: #F44336; color: white; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; font-size: 14px;';
                resetBtn.onclick = resetAllOwnerships;
                
                buttonContainer.appendChild(submitBtn);
                buttonContainer.appendChild(resetBtn);
                container.appendChild(buttonContainer);
            }
            
            // 创建单个人物标签及其物品列表
            function createAgentTagWithObjects(container, agentId, agentName, color) {
                // 创建人物标签外层容器
                const agentContainer = document.createElement('div');
                agentContainer.style.cssText = 'display: flex; flex-direction: column; gap: 5px;';
                agentContainer.setAttribute('data-agent-container', agentId);
                
                // 人物标签框
                const tagBox = document.createElement('div');
                tagBox.className = 'agent-tag-box';
                tagBox.style.backgroundColor = color;
                tagBox.style.borderColor = color;
                tagBox.setAttribute('data-agent-id', agentId);
                tagBox.setAttribute('data-agent-name', agentName);
                tagBox.setAttribute('data-agent-color', color);
                tagBox.textContent = agentName;
                
                agentContainer.appendChild(tagBox);
                
                // 物品列表容器（虚线框）
                const objectsContainer = document.createElement('div');
                objectsContainer.className = 'agent-objects-container';
                objectsContainer.setAttribute('data-owner-id', agentId);
                objectsContainer.style.cssText = `
                    border: 2px dashed ${color};
                    border-radius: 5px;
                    padding: 5px;
                    min-height: 30px;
                    display: none;
                    flex-direction: column;
                    gap: 5px;
                    background-color: rgba(255, 255, 255, 0.5);
                `;
                
                agentContainer.appendChild(objectsContainer);
                container.appendChild(agentContainer);
            }
            
            // 添加物品到人物标签下方
            function addObjectToAgentTag(agentId, objectId, objectName, agentColor) {
                const objectsContainer = document.querySelector(`.agent-objects-container[data-owner-id="${agentId}"]`);
                if (!objectsContainer) return;
                
                // 显示容器
                objectsContainer.style.display = 'flex';
                
                // 创建物品框
                const objectBox = document.createElement('div');
                objectBox.className = 'agent-object-item';
                objectBox.setAttribute('data-object-id', objectId);
                objectBox.style.cssText = `
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    padding: 5px 8px;
                    background-color: white;
                    border: 1px solid ${agentColor};
                    border-radius: 4px;
                    font-size: 11px;
                    gap: 5px;
                `;
                
                // 物品名称
                const objectLabel = document.createElement('span');
                objectLabel.textContent = objectName;
                objectLabel.style.cssText = 'flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; color: #333;';
                
                // 删除按钮
                const deleteBtn = document.createElement('button');
                deleteBtn.innerHTML = '❌';
                deleteBtn.style.cssText = `
                    background: none;
                    border: none;
                    cursor: pointer;
                    font-size: 12px;
                    padding: 0;
                    width: 16px;
                    height: 16px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    opacity: 0.7;
                    transition: opacity 0.2s;
                `;
                deleteBtn.onmouseover = () => deleteBtn.style.opacity = '1';
                deleteBtn.onmouseout = () => deleteBtn.style.opacity = '0.7';
                deleteBtn.onclick = (e) => {
                    e.stopPropagation();
                    removeObjectOwnership(objectId, agentId);
                };
                
                objectBox.appendChild(objectLabel);
                objectBox.appendChild(deleteBtn);
                objectsContainer.appendChild(objectBox);
            }
            
            // 从人物标签移除物品
            function removeObjectFromAgentTag(agentId, objectId) {
                const objectsContainer = document.querySelector(`.agent-objects-container[data-owner-id="${agentId}"]`);
                if (!objectsContainer) return;
                
                const objectBox = objectsContainer.querySelector(`.agent-object-item[data-object-id="${objectId}"]`);
                if (objectBox) {
                    objectBox.remove();
                }
                
                // 如果没有物品了，隐藏容器
                const remainingItems = objectsContainer.querySelectorAll('.agent-object-item');
                if (remainingItems.length === 0) {
                    objectsContainer.style.display = 'none';
                }
            }
            
            // 移除单个物品的归属关系
            function removeObjectOwnership(objectId, agentId) {
                // 从映射中删除
                if (objectOwnershipMap[objectId]) {
                    delete objectOwnershipMap[objectId];
                    console.log('[DEBUG] Removed ownership:', objectId);
                }
                
                // 从UI移除
                removeObjectFromAgentTag(agentId, objectId);
                
                // 恢复TopCamera中的bbox显示
                const bboxGroup = document.querySelector(`#bbox-svg-topcamera .bbox-group[data-object-id="${objectId}"]`);
                if (bboxGroup) {
                    bboxGroup.style.display = '';
                    
                    // 恢复到原始位置
                    const rect = bboxGroup.querySelector('.bbox-rect');
                    const originalX = parseFloat(bboxGroup.getAttribute('data-original-x'));
                    const originalY = parseFloat(bboxGroup.getAttribute('data-original-y'));
                    
                    rect.setAttribute('x', originalX);
                    rect.setAttribute('y', originalY);
                    
                    const width = parseFloat(rect.getAttribute('width'));
                    const centerX = originalX + width / 2;
                    const labelY = originalY - 5;
                    
                    const label = bboxGroup.querySelector('.bbox-label');
                    const labelBg = bboxGroup.querySelector('.bbox-label-bg');
                    
                    label.setAttribute('x', centerX);
                    label.setAttribute('y', labelY);
                    
                    setTimeout(() => {
                        try {
                            const bbox = label.getBBox();
                            labelBg.setAttribute('x', bbox.x - 3);
                            labelBg.setAttribute('y', bbox.y - 2);
                        } catch (e) {}
                    }, 10);
                }
                
                // 取消高亮
                unhighlightObject(objectId);
                
                console.log(`[INFO] Object ${objectId} ownership removed, bbox restored`);
            }
            
            function drawTopCamera() {
                if (!projections.topcamera) return;
                
                const svgElement = document.getElementById('bbox-svg-topcamera');
                const imgElement = document.getElementById('topcamera-img');
                
                if (!svgElement || !imgElement) return;
                
                if (!imgElement.complete) {
                    imgElement.onload = () => drawTopCamera();
                    return;
                }
                
                const displayWidth = imgElement.clientWidth;
                const displayHeight = imgElement.clientHeight;
                const scaleX = displayWidth / 4096;
                const scaleY = displayHeight / 4096;
                
                svgElement.setAttribute('viewBox', `0 0 ${displayWidth} ${displayHeight}`);
                svgElement.innerHTML = '';
                
                // 1. 绘制图片上的人物标签（使用左侧对应的颜色）
                if (projections.topcamera_agents) {
                    const agents = Object.entries(projections.topcamera_agents);
                    agents.forEach(([agentId, agentData], index) => {
                        if (!agentData.visible) return;
                        
                        const color = agentColors[index % agentColors.length];
                        const agentX = agentData.pixel_coords[0] * scaleX;
                        const agentY = agentData.pixel_coords[1] * scaleY;
                        const agentSize = 15;  // 正方形大小
                        
                        const agentGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                        agentGroup.setAttribute('class', 'agent-group');
                        agentGroup.setAttribute('data-agent-name', agentData.display_name);
                        agentGroup.setAttribute('style', 'pointer-events: none;');  // 不干扰拖动
                        
                        // 绘制彩色正方形（与左侧标签颜色一致）
                        const square = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                        square.setAttribute('x', agentX - agentSize/2);
                        square.setAttribute('y', agentY - agentSize/2);
                        square.setAttribute('width', agentSize);
                        square.setAttribute('height', agentSize);
                        square.setAttribute('fill', color);
                        square.setAttribute('stroke', 'black');
                        square.setAttribute('stroke-width', '1.5');
                        square.setAttribute('class', 'agent-marker');
                        
                        agentGroup.appendChild(square);
                        
                        // 人物标签
                        const agentLabelBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                        agentLabelBg.setAttribute('class', 'agent-label-bg');
                        agentLabelBg.setAttribute('fill', 'white');
                        agentLabelBg.setAttribute('opacity', '0.9');
                        agentLabelBg.setAttribute('rx', 2);
                        
                        const agentLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                        agentLabel.setAttribute('x', agentX);
                        agentLabel.setAttribute('y', agentY - agentSize/2 - 5);
                        agentLabel.setAttribute('text-anchor', 'middle');
                        agentLabel.setAttribute('dominant-baseline', 'bottom');
                        agentLabel.setAttribute('fill', color);
                        agentLabel.setAttribute('font-size', '8px');
                        agentLabel.setAttribute('font-weight', 'bold');
                        agentLabel.textContent = agentData.display_name;
                        
                        agentGroup.appendChild(agentLabelBg);
                        agentGroup.appendChild(agentLabel);
                        svgElement.appendChild(agentGroup);
                        
                        // 更新标签背景
                        setTimeout(() => {
                            try {
                                const bbox = agentLabel.getBBox();
                                agentLabelBg.setAttribute('x', bbox.x - 3);
                                agentLabelBg.setAttribute('y', bbox.y - 2);
                                agentLabelBg.setAttribute('width', bbox.width + 6);
                                agentLabelBg.setAttribute('height', bbox.height + 4);
                            } catch (e) {}
                        }, 10);
                    });
                }
                
                // 2. 绘制物品bbox（只显示未归属的个人物品）
                Object.entries(projections.topcamera).forEach(([objectId, projection]) => {
                    if (projection.owner === 'room' || !projection.visible) return;
                    if (objectOwnershipMap[objectId]) return;  // 已归属的不显示
                    
                    const [xMin, yMin, xMax, yMax] = projection.bbox;
                    const x = xMin * scaleX;
                    const y = yMin * scaleY;
                    const width = (xMax - xMin) * scaleX;
                    const height = (yMax - yMin) * scaleY;
                    
                    const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                    g.setAttribute('class', 'bbox-group');
                    g.setAttribute('data-object-id', objectId);
                    g.setAttribute('data-original-x', x);
                    g.setAttribute('data-original-y', y);
                    
                    const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                    rect.setAttribute('x', x);
                    rect.setAttribute('y', y);
                    rect.setAttribute('width', width);
                    rect.setAttribute('height', height);
                    rect.setAttribute('class', 'bbox-rect');
                    
                    g.appendChild(rect);
                    
                    const centerX = x + width / 2;
                    const labelY = y - 5;
                    
                    const textBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                    textBg.setAttribute('class', 'bbox-label-bg');
                    textBg.setAttribute('rx', 2);
                    
                    const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    text.setAttribute('x', centerX);
                    text.setAttribute('y', labelY);
                    text.setAttribute('text-anchor', 'middle');
                    text.setAttribute('dominant-baseline', 'bottom');
                    text.setAttribute('class', 'bbox-label');
                    text.textContent = projection.display_name;
                    
                    g.appendChild(textBg);
                    g.appendChild(text);
                    svgElement.appendChild(g);
                    
                    setTimeout(() => {
                        try {
                            const bbox = text.getBBox();
                            textBg.setAttribute('x', bbox.x - 3);
                            textBg.setAttribute('y', bbox.y - 2);
                            textBg.setAttribute('width', bbox.width + 6);
                            textBg.setAttribute('height', bbox.height + 4);
                        } catch (e) {}
                    }, 10);
                });
                
                // 绘制完成后，设置交互（拖动+点击高亮）
                setTimeout(() => {
                    setupTopCameraDrag();
                    if (typeof setupBboxInteractions === 'function') {
                        setupBboxInteractions();  // 重新绑定所有bbox的点击事件
                    }
                }, 50);
            }
            
            // 先生成人物标签，再绘制图片
            generateAgentTags();
            
            // 图片加载完成后再绘制
            const topcameraImg = document.getElementById('topcamera-img');
            if (topcameraImg) {
                if (topcameraImg.complete) {
                    drawTopCamera();
                } else {
                    topcameraImg.onload = () => drawTopCamera();
                }
            }
            
            // ==================== TopCamera bbox拖动和关系存储 ====================
            // 全局变量存储拖动状态
            let draggedGroup = null;
            let isDragging = false;
            let offsetX = 0;
            let offsetY = 0;
            let currentHoveredAgent = null;
            
            // 鼠标移动处理函数（需要在外部定义，以便移除事件监听器）
            function handleTopCameraMouseMove(event) {
                if (!draggedGroup || !isDragging) return;
                
                event.preventDefault();
                
                const topcameraSvg = document.getElementById('bbox-svg-topcamera');
                if (!topcameraSvg) return;
                
                const rect = draggedGroup.querySelector('.bbox-rect');
                const text = draggedGroup.querySelector('.bbox-label');
                const textBg = draggedGroup.querySelector('.bbox-label-bg');
                
                // 获取SVG边界
                const svgRect = topcameraSvg.getBoundingClientRect();
                
                // 计算SVG坐标系中鼠标的位置
                const mouseXinSVG = (event.clientX - svgRect.left) * (topcameraSvg.viewBox.baseVal.width / svgRect.width);
                const mouseYinSVG = (event.clientY - svgRect.top) * (topcameraSvg.viewBox.baseVal.height / svgRect.height);
                
                // 计算新位置（减去偏移，使鼠标位置保持在点击处）
                const newX = mouseXinSVG - offsetX;
                const newY = mouseYinSVG - offsetY;
                
                // 更新矩形位置
                rect.setAttribute('x', newX);
                rect.setAttribute('y', newY);
                
                // 更新标签位置
                const width = parseFloat(rect.getAttribute('width'));
                const centerX = newX + width / 2;
                const labelY = newY - 5;
                
                text.setAttribute('x', centerX);
                text.setAttribute('y', labelY);
                
                // 更新标签背景位置
                try {
                    const bbox = text.getBBox();
                    textBg.setAttribute('x', bbox.x - 3);
                    textBg.setAttribute('y', bbox.y - 2);
                } catch (e) {}
                
                // 检测鼠标是否在左侧人物标签框上
                currentHoveredAgent = null;
                const agentTags = document.querySelectorAll('.agent-tag-box');
                agentTags.forEach(tagBox => {
                    const tagRect = tagBox.getBoundingClientRect();
                    
                    // 检测鼠标位置是否在标签框内
                    if (event.clientX >= tagRect.left && 
                        event.clientX <= tagRect.right && 
                        event.clientY >= tagRect.top && 
                        event.clientY <= tagRect.bottom) {
                        
                        currentHoveredAgent = tagBox.getAttribute('data-agent-name');
                        tagBox.classList.add('highlight');
                    } else {
                        tagBox.classList.remove('highlight');
                    }
                });
            }
            
            // 鼠标释放处理函数
            function handleTopCameraMouseUp(event) {
                if (draggedGroup && isDragging) {
                    const objectId = draggedGroup.getAttribute('data-object-id');
                    const text = draggedGroup.querySelector('.bbox-label');
                    
                    // 如果松开时在人物标签框上，存储关系并隐藏bbox
                    if (currentHoveredAgent) {
                        const objectName = text.textContent;
                        
                        // 获取owner_id和color（从标签框的data属性）
                        const hoveredTagBox = document.querySelector(`.agent-tag-box[data-agent-name="${currentHoveredAgent}"]`);
                        const ownerId = hoveredTagBox ? hoveredTagBox.getAttribute('data-agent-id') : currentHoveredAgent;
                        const agentColor = hoveredTagBox ? hoveredTagBox.getAttribute('data-agent-color') : '#4CAF50';
                        
                        // 存储关系（只存储在内存中，点击提交时统一保存）
                        objectOwnershipMap[objectId] = {
                            owner_name: currentHoveredAgent,
                            owner_id: ownerId,
                            object_name: objectName
                        };
                        
                        console.log('[DEBUG] Ownership mapped:', objectId, '->', currentHoveredAgent, '(ID:', ownerId, ')');
                        
                        // 添加物品到人物标签下方的列表
                        addObjectToAgentTag(ownerId, objectId, objectName, agentColor);
                        
                        // 隐藏TopCamera中的bbox
                        draggedGroup.style.display = 'none';
                        
                        // 取消高亮状态
                        unhighlightObject(objectId);
                        
                        console.log(`物品 ${objectName} (ID: ${objectId}) 归属于 ${currentHoveredAgent} (ID: ${ownerId})`);
                    } else {
                        // 如果不在人物标签框上，恢复到原始位置
                        const rect = draggedGroup.querySelector('.bbox-rect');
                        const originalPosX = parseFloat(draggedGroup.getAttribute('data-original-x'));
                        const originalPosY = parseFloat(draggedGroup.getAttribute('data-original-y'));
                        
                        rect.setAttribute('x', originalPosX);
                        rect.setAttribute('y', originalPosY);
                        
                        const width = parseFloat(rect.getAttribute('width'));
                        const centerX = originalPosX + width / 2;
                        const labelY = originalPosY - 5;
                        
                        const label = draggedGroup.querySelector('.bbox-label');
                        const labelBg = draggedGroup.querySelector('.bbox-label-bg');
                        
                        label.setAttribute('x', centerX);
                        label.setAttribute('y', labelY);
                        
                        setTimeout(() => {
                            try {
                                const bbox = label.getBBox();
                                labelBg.setAttribute('x', bbox.x - 3);
                                labelBg.setAttribute('y', bbox.y - 2);
                            } catch (e) {}
                        }, 10);
                    }
                    
                    draggedGroup.classList.remove('dragging');
                    draggedGroup = null;
                    isDragging = false;
                    currentHoveredAgent = null;
                    
                    // 移除所有高亮
                    document.querySelectorAll('.agent-tag-box').forEach(box => {
                        box.classList.remove('highlight');
                    });
                }
            }
            
            function setupTopCameraDrag() {
                const topcameraSvg = document.getElementById('bbox-svg-topcamera');
                const topcameraContainer = document.querySelector('.topcamera-image-container');
                if (!topcameraSvg || !topcameraContainer) return;
                
                // 先移除旧的document级别事件监听器（避免重复绑定）
                document.removeEventListener('mousemove', handleTopCameraMouseMove);
                document.removeEventListener('mouseup', handleTopCameraMouseUp);
                
                // 添加新的document级别事件监听器
                document.addEventListener('mousemove', handleTopCameraMouseMove);
                document.addEventListener('mouseup', handleTopCameraMouseUp);
                
                topcameraSvg.querySelectorAll('.bbox-group').forEach(group => {
                    const rect = group.querySelector('.bbox-rect');
                    const objectId = group.getAttribute('data-object-id');
                    if (!rect) return;
                    
                    // 鼠标按下事件
                    group.addEventListener('mousedown', function(event) {
                        event.preventDefault();
                        event.stopPropagation();
                        
                        isDragging = true;
                        draggedGroup = group;
                        group.classList.add('dragging');
                        
                        // 计算鼠标相对于rect左上角的偏移
                        const svgRect = topcameraSvg.getBoundingClientRect();
                        const rectX = parseFloat(rect.getAttribute('x'));
                        const rectY = parseFloat(rect.getAttribute('y'));
                        
                        // SVG坐标系中鼠标的位置
                        const mouseXinSVG = (event.clientX - svgRect.left) * (topcameraSvg.viewBox.baseVal.width / svgRect.width);
                        const mouseYinSVG = (event.clientY - svgRect.top) * (topcameraSvg.viewBox.baseVal.height / svgRect.height);
                        
                        offsetX = mouseXinSVG - rectX;
                        offsetY = mouseYinSVG - rectY;
                    });
                });
            }
            
            // Note: Individual save removed, only batch save on Submit

            
            // Submit all relationships
            function submitAllOwnerships() {
                if (Object.keys(objectOwnershipMap).length === 0) {
                    alert('No matching relationships to submit!');
                    return;
                }
                
                // Build complete relationships list
                const allOwnerships = Object.entries(objectOwnershipMap).map(([objectId, ownerData]) => ({
                    object_id: objectId,
                    object_name: ownerData.object_name,
                    owner_id: ownerData.owner_id,
                    owner_name: ownerData.owner_name,
                    timestamp: new Date().toISOString()
                }));
                
                const sessionId = new Date().toISOString().replace(/[:.]/g, '-');
                
                console.log('[DEBUG] Submitting ownerships:', allOwnerships);
                console.log('[DEBUG] Session ID:', sessionId);
                console.log('[DEBUG] Current scene:', currentSceneName);
                
                // Send to server for batch saving (calls Python ownership_manager.py)
                fetch('/save_all_ownerships', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 
                        ownerships: allOwnerships,
                        session_id: sessionId,
                        scene_name: currentSceneName
                    })
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`Server returned ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('[SUCCESS] Server response:', data);
                    
                    // Show success message with auto-load option
                    const message = `Successfully submitted ${allOwnerships.length} matching relationships!\nSession ID: ${sessionId}\n\nDo you want to load the next scene?`;
                    if (confirm(message)) {
                        loadNextScene();
                    }
                })
                .catch(error => {
                    console.error('[ERROR] Failed to submit to server:', error);
                    
                    // Save to local file as backup when server is unavailable
                    const batchData = {
                        session_id: sessionId,
                        timestamp: new Date().toISOString(),
                        total_count: allOwnerships.length,
                        scene_name: currentSceneName,
                        ownerships: allOwnerships
                    };
                    
                    // Create downloadable JSON file
                    const dataStr = JSON.stringify(batchData, null, 2);
                    const dataBlob = new Blob([dataStr], { type: 'application/json' });
                    const url = URL.createObjectURL(dataBlob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = `ownership_batch_${sessionId}.json`;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    URL.revokeObjectURL(url);
                    
                    // Also save to localStorage as backup
                    localStorage.setItem('all_ownerships', JSON.stringify(batchData));
                    
                    console.log('[INFO] File saved locally:', `ownership_batch_${sessionId}.json`);
                    alert(`Server unavailable!\n\nSaved ${allOwnerships.length} matching relationships to local file:\nownership_batch_${sessionId}.json\n\nThe file has been downloaded to your Downloads folder.`);
                });
            }
            
            // Reset all relationships
            function resetAllOwnerships() {
                if (!confirm('Are you sure you want to reset all matching relationships? This will restore all hidden object boxes.')) {
                    return;
                }
                
                // Clear relationships map
                Object.keys(objectOwnershipMap).forEach(key => {
                    delete objectOwnershipMap[key];
                });
                
                // Clear local storage
                localStorage.removeItem('ownerships');
                localStorage.removeItem('all_ownerships');
                
                // Redraw TopCamera (restore all bboxes)
                // Note: drawTopCamera() will automatically call setupTopCameraDrag() and setupBboxInteractions()
                drawTopCamera();
                
                alert('All matching relationships have been reset!');
                console.log('匹配关系已重置');
            }
    
            
            // ==================== 交互联动 ====================
            // 存储当前点击的物体ID
            let currentClickedObjectId = null;
            
            // 高亮指定物体（点击状态）
            function highlightObject(objectId) {
                // 取消之前的高亮
                if (currentClickedObjectId) {
                    unhighlightObject(currentClickedObjectId);
                }
                
                currentClickedObjectId = objectId;
                
                // 高亮所有相机中的该物体bbox
                document.querySelectorAll(`[data-object-id="${objectId}"]`).forEach(group => {
                    const rect = group.querySelector('.bbox-rect');
                    const label = group.querySelector('.bbox-label');
                    const labelBg = group.querySelector('.bbox-label-bg');
                    if (rect) rect.classList.add('highlighted');
                    if (label && labelBg) {
                        // 先添加class
                        label.classList.add('highlighted');
                        labelBg.classList.add('highlighted');
                        
                        // 等待CSS transition完成（300ms）+ 额外缓冲时间，然后调整背景尺寸
                        setTimeout(() => {
                            try {
                                const bbox = label.getBBox();
                                labelBg.setAttribute('x', bbox.x - 3);
                                labelBg.setAttribute('y', bbox.y - 2);
                                labelBg.setAttribute('width', bbox.width + 6);
                                labelBg.setAttribute('height', bbox.height + 4);
                            } catch (e) {
                                console.error('getBBox error:', e);
                            }
                        }, 350);  // 增加到350ms，确保transition完成
                    }
                });
                
                // 高亮平面图中的物体
                container.selectAll('.personal-obj-group').each(function(d, i) {
                    const group = d3.select(this);
                    const objId = sceneData.personalObjects[i].id;
                    if (objId === objectId) {
                        group.select('.personal-bounds').classed('clicked', true);
                        group.select('.personal-object')
                            .classed('clicked', true)
                            .transition()
                            .duration(200)
                            .attr('r', 6);
                        const labels = group.selectAll('.personal-label').classed('clicked', true);
                        
                        // 动态调整平面图标签背景
                        setTimeout(() => {
                            group.selectAll('.personal-label').each(function() {
                                const labelNode = this;
                                const bgNode = this.previousSibling;
                                if (bgNode && bgNode.classList.contains('personal-label-bg')) {
                                    try {
                                        const bbox = labelNode.getBBox();
                                        d3.select(bgNode)
                                            .attr('x', bbox.x - 2)
                                            .attr('y', bbox.y - 1)
                                            .attr('width', bbox.width + 4)
                                            .attr('height', bbox.height + 2);
                                    } catch (e) {}
                                }
                            });
                        }, 50);
                    }
                });
            }
            
            // 取消高亮
            function unhighlightObject(objectId) {
                // 取消相机bbox高亮
                document.querySelectorAll(`[data-object-id="${objectId}"]`).forEach(group => {
                    const rect = group.querySelector('.bbox-rect');
                    const label = group.querySelector('.bbox-label');
                    const labelBg = group.querySelector('.bbox-label-bg');
                    if (rect) rect.classList.remove('highlighted');
                    if (label) {
                        label.classList.remove('highlighted');
                        // 先移除class让文字缩小，然后调整背景尺寸以适应缩小的文字
                        if (labelBg) {
                            labelBg.classList.remove('highlighted');
                            setTimeout(() => {
                                try {
                                    const bbox = label.getBBox();
                                    labelBg.setAttribute('x', bbox.x - 3);
                                    labelBg.setAttribute('y', bbox.y - 2);
                                    labelBg.setAttribute('width', bbox.width + 6);
                                    labelBg.setAttribute('height', bbox.height + 4);
                                } catch (e) {}
                            }, 50);
                        }
                    }
                });
                
                // 取消平面图高亮
                container.selectAll('.personal-obj-group').each(function(d, i) {
                    const group = d3.select(this);
                    const objId = sceneData.personalObjects[i].id;
                    if (objId === objectId) {
                        group.select('.personal-bounds').classed('clicked', false);
                        group.select('.personal-object')
                            .classed('clicked', false)
                            .transition()
                            .duration(200)
                            .attr('r', 3);
                        group.selectAll('.personal-label').classed('clicked', false);
                        
                        // 调整平面图标签背景
                        setTimeout(() => {
                            group.selectAll('.personal-label').each(function() {
                                const labelNode = this;
                                const bgNode = this.previousSibling;
                                if (bgNode && bgNode.classList.contains('personal-label-bg')) {
                                    try {
                                        const bbox = labelNode.getBBox();
                                        d3.select(bgNode)
                                            .attr('x', bbox.x - 2)
                                            .attr('y', bbox.y - 1)
                                            .attr('width', bbox.width + 4)
                                            .attr('height', bbox.height + 2);
                                    } catch (e) {}
                                }
                            });
                        }, 50);
                    }
                });
                
                if (currentClickedObjectId === objectId) {
                    currentClickedObjectId = null;
                }
            }
            
            // 为平面图中的个人物体添加点击交互
            sceneData.personalObjects.forEach((obj, index) => {
                const groups = container.selectAll(`.personal-obj-group[data-index="${index}"]`);
                
                groups.on('click', function(event) {
                    event.stopPropagation();
                    if (currentClickedObjectId === obj.id) {
                        // 如果已经点击，则取消
                        unhighlightObject(obj.id);
                    } else {
                        // 否则高亮该物体
                        highlightObject(obj.id);
                    }
                });
                
                // 保持hover效果
                groups.select('.personal-bounds')
                    .on('mouseenter', function() {
                        if (currentClickedObjectId !== obj.id) {
                            d3.select(this).classed('highlighted', true);
                        }
                    })
                    .on('mouseleave', function() {
                        if (currentClickedObjectId !== obj.id) {
                            d3.select(this).classed('highlighted', false);
                        }
                    });
                
                groups.select('.personal-object')
                    .on('mouseenter', function() {
                        if (currentClickedObjectId !== obj.id) {
                            d3.select(this).classed('highlighted', true);
                        }
                    })
                    .on('mouseleave', function() {
                        if (currentClickedObjectId !== obj.id) {
                            d3.select(this).classed('highlighted', false);
                        }
                    });
            });
            
            // 点击空白区域取消选择
            svg.on('click', function(event) {
                if (event.target === this || event.target.tagName === 'rect' && event.target.classList.contains('table')) {
                    if (currentClickedObjectId) {
                        unhighlightObject(currentClickedObjectId);
                    }
                }
            });
            
            // ==================== bbox交互设置 ====================
            function setupBboxInteractions() {
                document.querySelectorAll('.bbox-group').forEach(group => {
                    const objectId = group.getAttribute('data-object-id');
                    
                    // 点击事件
                    group.addEventListener('click', function(event) {
                        event.stopPropagation();
                        if (currentClickedObjectId === objectId) {
                            unhighlightObject(objectId);
                        } else {
                            highlightObject(objectId);
                        }
                    });
                    
                    // Hover效果
                    group.addEventListener('mouseenter', function() {
                        if (currentClickedObjectId !== objectId) {
                            const rect = this.querySelector('.bbox-rect');
                            const label = this.querySelector('.bbox-label');
                            const labelBg = this.querySelector('.bbox-label-bg');
                            if (rect) rect.classList.add('highlighted');
                            if (label) label.classList.add('highlighted');
                            if (labelBg) labelBg.classList.add('highlighted');
                        }
                    });
                    
                    group.addEventListener('mouseleave', function() {
                        if (currentClickedObjectId !== objectId) {
                            const rect = this.querySelector('.bbox-rect');
                            const label = this.querySelector('.bbox-label');
                            const labelBg = this.querySelector('.bbox-label-bg');
                            if (rect) rect.classList.remove('highlighted');
                            if (label) label.classList.remove('highlighted');
                            if (labelBg) labelBg.classList.remove('highlighted');
                        }
                    });
                });
            }
    
            
            // Scene loading functions
            function loadSelectedScene() {
                const select = document.getElementById('scene-select');
                const sceneName = select.value;
                loadScene(sceneName);
            }
            
            function loadNextScene() {
                const currentIndex = allScenes.indexOf(currentSceneName);
                if (currentIndex >= 0 && currentIndex < allScenes.length - 1) {
                    const nextScene = allScenes[currentIndex + 1];
                    loadScene(nextScene);
                } else {
                    updateSceneStatus('Already at the last scene', 'warning');
                }
            }
            
            function loadScene(sceneName) {
                updateSceneStatus('Loading scene...', 'loading');
                
                fetch(`/load_scene?scene=${encodeURIComponent(sceneName)}`)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Failed to load scene');
                        }
                        return response.json();
                    })
                    .then(data => {
                        // Reload the page with new scene data
                        window.location.href = `/dashboard.html?scene=${encodeURIComponent(sceneName)}`;
                    })
                    .catch(error => {
                        console.error('Error loading scene:', error);
                        updateSceneStatus('Failed to load scene', 'error');
                    });
            }
            
            function updateSceneStatus(message, type) {
                const statusSpan = document.getElementById('scene-status');
                if (statusSpan) {
                    statusSpan.textContent = message;
                    statusSpan.style.color = type === 'error' ? '#e74c3c' : 
                                             type === 'warning' ? '#f39c12' :
                                             type === 'loading' ? '#3498db' : '#27ae60';
                }
            }
            
            // 初始化bbox交互（TopCamera的拖动交互在drawTopCamera内部自动设置）
            setTimeout(() => {
                setupBboxInteractions();
            }, 100);
            
            // 窗口大小改变时重新绘制
            window.addEventListener('resize', () => {
                const cameraCount = 8;
                for (let i = 0; i < cameraCount; i++) {
                    drawBboxOnCamera(i, `bbox-svg-${i}`, `camera-img-${i}`);
                }
                drawTopCamera();  // TopCamera内部会自动调用setupBboxInteractions()
                
                // 只需要为相机图片重新绑定交互
                setTimeout(() => {
                    setupBboxInteractions();
                }, 100);
            });
        </script>
    </body>
    </html>
    